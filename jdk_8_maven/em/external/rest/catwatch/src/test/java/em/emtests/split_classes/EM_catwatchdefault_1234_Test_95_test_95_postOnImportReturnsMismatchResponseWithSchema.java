package em.emtests.split_classes;
/**
* LICENSE DISCLAIMER
* This file has been generated by EvoMaster.
* The content of this file is not subject to the license of EvoMaster itself, i.e., LGPL.
* This generated software (i.e., the test suite in this file) can be freely used, modified, 
* and distributed as you see fit without any restrictions.
*/
import  org.junit.jupiter.api.AfterAll;
import  org.junit.jupiter.api.BeforeAll;
import  org.junit.jupiter.api.BeforeEach;
import  org.junit.jupiter.api.Test;
import  org.junit.jupiter.api.Timeout;
import static org.junit.jupiter.api.Assertions.*;
import  java.util.Map;
import  java.util.Arrays;
import  java.util.List;
import static org.evomaster.test.utils.EMTestUtils.*;
import  org.evomaster.client.java.controller.SutHandler;
import  io.restassured.RestAssured;
import static io.restassured.RestAssured.given;
import  io.restassured.response.ValidatableResponse;
import static org.evomaster.client.java.sql.dsl.SqlDsl.sql;
import  org.evomaster.client.java.controller.api.dto.database.operations.InsertionResultsDto;
import  org.evomaster.client.java.controller.api.dto.database.operations.InsertionDto;
import static org.hamcrest.Matchers.*;
import  io.restassured.config.JsonConfig;
import  io.restassured.path.json.config.JsonPathConfig;
import static io.restassured.config.RedirectConfig.redirectConfig;
import static org.evomaster.client.java.controller.contentMatchers.NumberMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.StringMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.SubStringMatcher.*;




/**
*  This file was automatically generated by EvoMaster on 2025-09-03T17:16:58.617-04:00[America/New_York]
 * <br>
*  The generated test suite contains 130 tests
 * <br>
*  Covered targets: 2587
 * <br>
*  Used time: 1h 3m 57s
 * <br>
*  Needed budget for current results: 99%
 * <br>
*  
*/

public class EM_catwatchdefault_1234_Test_95_test_95_postOnImportReturnsMismatchResponseWithSchema {
    

    
    private static final SutHandler controller = new em.external.org.zalando.ExternalEvoMasterController("/home/rhuang329/coaster/EMB/exp2/catwatch-sut.jar");
    private static String baseUrlOfSut;

    @BeforeAll
    public static void initClass() {
        controller.setupForGeneratedTest();
        baseUrlOfSut = controller.startSut();
        controller.registerOrExecuteInitSqlCommandsIfNeeded();
        assertNotNull(baseUrlOfSut);
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
        RestAssured.useRelaxedHTTPSValidation();
        RestAssured.urlEncodingEnabled = false;
        RestAssured.config = RestAssured.config()
            .jsonConfig(JsonConfig.jsonConfig().numberReturnType(JsonPathConfig.NumberReturnType.DOUBLE))
            .redirect(redirectConfig().followRedirects(false));
    }

    @AfterAll
    public static void tearDown() {
        controller.stopSut();
    }

    @BeforeEach
    public void initTest() {
        controller.resetDatabase(Arrays.asList("CONTRIBUTOR","LANGUAGE_LIST","MAINTAINERS","PROJECT","STATISTICS"));
        controller.resetStateOfSUT();
    }

    /**
    * Calls:
    * (403) POST:/import
    * Found 1 potential fault of type-code 101
    */
    @Test @Timeout(60)
    public void test_95_postOnImportReturnsMismatchResponseWithSchema() throws Exception {
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.body.unexpected. No response body is expected but one was found.
        given().accept("application/json;charset=utf-8")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"contributors\": [ " + 
                    " { " + 
                    " \"loginId\": \"DwXisLrNp1\", " + 
                    " \"name\": \"aRkxeWuPKs\", " + 
                    " \"organizationName\": \"VMMSBISlLv\", " + 
                    " \"organizationalCommitsCount\": 899, " + 
                    " \"organizationalProjectsCount\": 364, " + 
                    " \"personalCommitsCount\": 906 " + 
                    " }, " + 
                    " { " + 
                    " \"key\": { " + 
                    " \"id\": -4571186232815871448, " + 
                    " \"organizationId\": 72, " + 
                    " \"snapshotDate\": \"1909-06-27T-1:07:45.471+11:30\" " + 
                    " }, " + 
                    " \"organizationId\": 2054529220, " + 
                    " \"organizationName\": \"_EM_1141_XYZ_\", " + 
                    " \"organizationalCommitsCount\": 651, " + 
                    " \"organizationalProjectsCount\": 315, " + 
                    " \"personalCommitsCount\": 712, " + 
                    " \"snapshotDate\": \"2066-13-21T12:39:11.128Z\", " + 
                    " \"url\": \"_EM_1142_XYZ_\" " + 
                    " }, " + 
                    " { " + 
                    " \"id\": -8060063967861031892, " + 
                    " \"loginId\": \"_EM_1143_XYZ_\", " + 
                    " \"name\": \"crMiHnFsFB5mPF\", " + 
                    " \"organizationId\": 808, " + 
                    " \"organizationName\": \"y_sHRCi\", " + 
                    " \"organizationalCommitsCount\": 1751129554, " + 
                    " \"personalCommitsCount\": 458, " + 
                    " \"snapshotDate\": \"1929-01-08T16:49:04+10:12\" " + 
                    " }, " + 
                    " { " + 
                    " \"id\": 967, " + 
                    " \"name\": \"0U2ypBvtEzd6gMUx\", " + 
                    " \"organizationalCommitsCount\": -111878875, " + 
                    " \"personalCommitsCount\": 267, " + 
                    " \"personalProjectsCount\": 935, " + 
                    " \"snapshotDate\": \"2059-02-30T05:27:18.353Z\", " + 
                    " \"url\": \"\" " + 
                    " }, " + 
                    " { " + 
                    " \"loginId\": \"_EM_1144_XYZ_\", " + 
                    " \"name\": \"Ew4mYWzIkHpk\", " + 
                    " \"organizationId\": 935, " + 
                    " \"personalCommitsCount\": 128, " + 
                    " \"personalProjectsCount\": 747, " + 
                    " \"snapshotDate\": \"2021-00-09T-1:46:39-07:24\", " + 
                    " \"url\": \"K1Agjt2\" " + 
                    " } " + 
                    " ], " + 
                    " \"projects\": [ " + 
                    " { " + 
                    " \"commitsCount\": 613, " + 
                    " \"description\": \"2p\", " + 
                    " \"externalContributorsCount\": 179, " + 
                    " \"languageList\": [ " + 
                    " \"r\", " + 
                    " \"_EM_1147_XYZ_\", " + 
                    " \"etW9b3O9kLXl\", " + 
                    " \"c\", " + 
                    " \"3jVl_jE8C7ogD\" " + 
                    " ], " + 
                    " \"maintainers\": [ " + 
                    " \"_EM_1149_XYZ_\", " + 
                    " \"d8EQ\", " + 
                    " \"_EM_1150_XYZ_\" " + 
                    " ], " + 
                    " \"name\": \"_EM_1151_XYZ_\", " + 
                    " \"primaryLanguage\": \"o_lC7fcl3Ln\", " + 
                    " \"score\": 570 " + 
                    " }, " + 
                    " { " + 
                    " \"description\": \"wvIi6OwGxU1gt\", " + 
                    " \"forksCount\": 772, " + 
                    " \"languageList\": [], " + 
                    " \"lastPushed\": \"_EM_1154_XYZ_\", " + 
                    " \"maintainers\": [ " + 
                    " \"_EM_1155_XYZ_\", " + 
                    " \"_EM_1156_XYZ_\" " + 
                    " ], " + 
                    " \"name\": \"eVtBlMTw_3X_ni7\", " + 
                    " \"snapshotDate\": \"2057-05-12T09:27:19Z\", " + 
                    " \"starsCount\": 621, " + 
                    " \"url\": \"AzsUaKXPC\" " + 
                    " }, " + 
                    " { " + 
                    " \"contributorsCount\": 63, " + 
                    " \"description\": \"_EM_1159_XYZ_\", " + 
                    " \"languageList\": [ " + 
                    " \"vb9slm\", " + 
                    " \"_EM_1160_XYZ_\", " + 
                    " \"_EM_1161_XYZ_\" " + 
                    " ], " + 
                    " \"lastPushed\": \"_EM_1162_XYZ_\", " + 
                    " \"maintainers\": [ " + 
                    " \"_EM_1163_XYZ_\", " + 
                    " \"LxM\", " + 
                    " \"d4\", " + 
                    " \"_EM_1164_XYZ_\" " + 
                    " ], " + 
                    " \"name\": \"JjtL\", " + 
                    " \"title\": \"JlqZiQWh\", " + 
                    " \"url\": \"yjd\" " + 
                    " }, " + 
                    " { " + 
                    " \"externalContributorsCount\": 798, " + 
                    " \"forksCount\": 249, " + 
                    " \"lastPushed\": \"gQB5fASj\", " + 
                    " \"maintainers\": [ " + 
                    " \"brWj1ox\", " + 
                    " \"_EM_1171_XYZ_\", " + 
                    " \"_EM_1172_XYZ_\", " + 
                    " \"_EM_1173_XYZ_\" " + 
                    " ], " + 
                    " \"organizationName\": \"\", " + 
                    " \"primaryLanguage\": \"g4\", " + 
                    " \"snapshotDate\": \"1976-04-02T17:25:06Z\" " + 
                    " } " + 
                    " ] " + 
                    " } ")
                .post(baseUrlOfSut + "/import")
                .then()
                .statusCode(403)
                .assertThat()
                .contentType("application/json")
                .body(containsString("This endpoint is deactivated."));
    }
}

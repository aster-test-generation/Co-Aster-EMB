package em.emtests.split_classes;
/**
* LICENSE DISCLAIMER
* This file has been generated by EvoMaster.
* The content of this file is not subject to the license of EvoMaster itself, i.e., LGPL.
* This generated software (i.e., the test suite in this file) can be freely used, modified, 
* and distributed as you see fit without any restrictions.
*/
import  org.junit.jupiter.api.AfterAll;
import  org.junit.jupiter.api.BeforeAll;
import  org.junit.jupiter.api.BeforeEach;
import  org.junit.jupiter.api.Test;
import  org.junit.jupiter.api.Timeout;
import static org.junit.jupiter.api.Assertions.*;
import  java.util.Map;
import  java.util.Arrays;
import  java.util.List;
import static org.evomaster.test.utils.EMTestUtils.*;
import  org.evomaster.client.java.controller.SutHandler;
import  io.restassured.RestAssured;
import static io.restassured.RestAssured.given;
import  io.restassured.response.ValidatableResponse;
import static org.evomaster.client.java.controller.mongo.dsl.MongoDsl.mongo;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionResultsDto;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionDto;
import static org.hamcrest.Matchers.*;
import  io.restassured.config.JsonConfig;
import  io.restassured.path.json.config.JsonPathConfig;
import static io.restassured.config.RedirectConfig.redirectConfig;
import static org.evomaster.client.java.controller.contentMatchers.NumberMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.StringMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.SubStringMatcher.*;




/**
*  This file was automatically generated by EvoMaster on 2025-09-03T21:43:27.165-04:00[America/New_York]
 * <br>
*  The generated test suite contains 408 tests
 * <br>
*  Covered targets: 2217
 * <br>
*  Used time: 1h 5m 2s
 * <br>
*  Needed budget for current results: 99%
 * <br>
*  
*/

public class EM_gestaohospitaldefault_1234_Test_59_test_59_putOnHospitaiShowsFaults_100_101 {
    

    
    private static final SutHandler controller = new em.external.br.com.codenation.hospital.ExternalEvoMasterController("/home/rhuang329/coaster/EMB/exp2/gestaohospital-sut.jar");
    private static String baseUrlOfSut;

    @BeforeAll
    public static void initClass() {
        controller.setupForGeneratedTest();
        baseUrlOfSut = controller.startSut();
        controller.registerOrExecuteInitSqlCommandsIfNeeded();
        assertNotNull(baseUrlOfSut);
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
        RestAssured.useRelaxedHTTPSValidation();
        RestAssured.urlEncodingEnabled = false;
        RestAssured.config = RestAssured.config()
            .jsonConfig(JsonConfig.jsonConfig().numberReturnType(JsonPathConfig.NumberReturnType.DOUBLE))
            .redirect(redirectConfig().followRedirects(false));
    }

    @AfterAll
    public static void tearDown() {
        controller.stopSut();
    }

    @BeforeEach
    public void initTest() {
        controller.resetStateOfSUT();
    }

    /**
    * Calls:
    * 1 - (400) GET:/v1/hospitais/{hospital_id}/hospitaisProximos
    * 2 - (400) POST:/v1/hospitais/{hospital_id}/estoque
    * 3 - (500) GET:/v1/hospitais/maisProximo
    * 4 - (400) PUT:/v1/hospitais/{hospital_id}
    * Found 5 potential faults. Type-codes: 100, 101
    */
    @Test @Timeout(60)
    public void test_59_putOnHospitaiShowsFaults_100_101() throws Exception {
        List<MongoInsertionDto> insertions = mongo().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"bpqVoCNiAgHz\", \"name\":\"_EM_4863_XYZ_F\", \"address\":\"dDeTkK39\", \"beds\":{\"$numberInt\":\"-64\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"kDSYgjGC2g\", \"name\":\"R7L\", \"referenceId\":\"4NMr1JDv2NgcBEA\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7639466526340252\"}, {\"$numberDouble\":\"0.6145528104066247\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"_EM_5876_XYZ_\", \"name\":\"NBI8ugcJb7N3I\", \"cpf\":\"\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-350938800000\"}}, \"gender\":\"_EM_5877_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2185729200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-1148414400000\"}}, \"active\":false, \"location\":{\"id\":\"2GX9Lx0irTynv\", \"name\":\"_EM_5982_XYZ_\", \"referenceId\":\"MM2xk9UcUSbTU\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.973480458916972\"}, {\"$numberDouble\":\"0.6594071150355298\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"469\"}, \"machineIdentifier\":{\"$numberInt\":\"0\"}, \"processIdentifier\":{\"$numberInt\":\"0\"}, \"counter\":{\"$numberInt\":\"279\"}}, \"name\":\"PuhcAs1JXNMEU\", \"description\":\"nQBJDzCCcz7Pu\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"60e00285c6332dfb5073cc9f\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"Wswty\", \"name\":\"i0yHp_HHGc2m_\", \"address\":\"PCOV\", \"beds\":{\"$numberInt\":\"131752\"}, \"availableBeds\":{\"$numberInt\":\"-66060121\"}, \"location\":{\"id\":\"R\", \"name\":\"_qzYRQkbxE\", \"referenceId\":\"aBjm_amzbZYoZUQ\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.0015282571041900228\"}, {\"$numberDouble\":\"0.6571\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"66\", \"name\":\"kHO6Gm\", \"cpf\":\"_EM_5983_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"806212800000\"}}, \"gender\":\"h167g4Bh\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1187150400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"4102462800000\"}}, \"active\":false, \"location\":{\"id\":\"B7FKFI\", \"name\":\"n\", \"referenceId\":\"_EM_4816_XYZ_\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.94678878567146\"}, {\"$numberDouble\":\"0.160741709741\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"804\"}, \"machineIdentifier\":{\"$numberInt\":\"33111\"}, \"processIdentifier\":{\"$numberInt\":\"703\"}, \"counter\":{\"$numberInt\":\"1535\"}}, \"name\":\"8M6.\", \"description\":\"1ZE4FD5i\", \"quantity\":{\"$numberInt\":\"-3599\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"797\"}, \"machineIdentifier\":{\"$numberInt\":\"583\"}, \"processIdentifier\":{\"$numberInt\":\"852\"}, \"counter\":{\"$numberInt\":\"842\"}}, \"name\":\"\", \"description\":\"OReGGv<7cT8\", \"quantity\":{\"$numberInt\":\"149\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"222\"}, \"machineIdentifier\":{\"$numberInt\":\"639\"}, \"processIdentifier\":{\"$numberInt\":\"424\"}, \"counter\":{\"$numberInt\":\"-2092245982\"}}, \"name\":\"_hV4\", \"description\":\"\", \"quantity\":{\"$numberInt\":\"-65471\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"436\"}, \"machineIdentifier\":{\"$numberInt\":\"200470588\"}, \"processIdentifier\":{\"$numberInt\":\"693\"}, \"counter\":{\"$numberInt\":\"16\"}}, \"name\":\"45jKOj\", \"description\":\"K1bujv_uf\", \"quantity\":{\"$numberInt\":\"-16082\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"1c817681be4bed1daf3cfd44\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"HFCoifi_Jz3X\", \"name\":\"A3s00\", \"address\":\"ac_Ff\", \"beds\":{\"$numberInt\":\"0\"}, \"availableBeds\":{\"$numberInt\":\"533\"}, \"location\":{\"id\":\"euBU_flIv\", \"name\":\"YvGT\", \"referenceId\":\"04ie2\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.1361064084843402\"}, {\"$numberDouble\":\"0.8289140349137464\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"Zn3niiyo\", \"name\":\"HMoUHeWeNUo\", \"cpf\":\"\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3833409600000\"}}, \"gender\":\"KItB9C\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3293496000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-1531166400000\"}}, \"active\":false, \"location\":{\"id\":\"52B946tWUTC9ZrPS\", \"name\":\"\", \"referenceId\":\"mw0i55zb_FxlUO\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.11704813168788308\"}, {\"$numberDouble\":\"0.9479356735199101\"}], \"type\":\"Point\"}}}, {\"id\":\"z6hIMz6kE0KNWJ\", \"name\":\"OE1wCY4\", \"cpf\":\"jAqgAMiswdXUmI\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2226628800000\"}}, \"gender\":\"Z7s7f0nmcNGRM\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2141492400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"890629200000\"}}, \"active\":false, \"location\":{\"id\":\"\", \"name\":\"0gXT3jSDLs\", \"referenceId\":\"zXXQRMtmdJ32judb\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.032445373535632704\"}, {\"$numberDouble\":\"0.2583781380049277\"}], \"type\":\"Point\"}}}, {\"id\":\"o\", \"name\":\"IPO_FA\", \"cpf\":\"\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1897016400000\"}}, \"gender\":\"DnJ_yT\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1972580400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-763412400000\"}}, \"active\":false, \"location\":{\"id\":\"3VKW\", \"name\":\"OQd5Et_o\", \"referenceId\":\"YBtE\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.32742736760231506\"}, {\"$numberDouble\":\"0.18792793427344157\"}], \"type\":\"Point\"}}}, {\"id\":\"4Wfm4ioUost1w\", \"name\":\"0m5ipQG_57VKZ9z\", \"cpf\":\"reL4T1D0wu\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-371070000000\"}}, \"gender\":\"3hgOu\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1413864000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-1743361200000\"}}, \"active\":false, \"location\":{\"id\":\"ooPrcXqoh\", \"name\":\"ulEzo5azj1\", \"referenceId\":\"dAyXq\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5515581179193536\"}, {\"$numberDouble\":\"0.6549390193028796\"}], \"type\":\"Point\"}}}, {\"id\":\"jsX7c0\", \"name\":\"_KZx\", \"cpf\":\"_EM_2938_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3165537600000\"}}, \"gender\":\"BAkWAIb\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-331502400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2244171600000\"}}, \"active\":true, \"location\":{\"id\":\"7CMnt6G\", \"name\":\"uQCNiUXAQIJ4eHd\", \"referenceId\":\"zJaBV35W_lG9\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.30093173452082844\"}, {\"$numberDouble\":\"0.3659573637167889\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"680\"}, \"machineIdentifier\":{\"$numberInt\":\"107\"}, \"processIdentifier\":{\"$numberInt\":\"-30914\"}, \"counter\":{\"$numberInt\":\"438\"}}, \"name\":\"\", \"description\":\"oEm\", \"quantity\":{\"$numberInt\":\"162\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"137\"}, \"machineIdentifier\":{\"$numberInt\":\"460\"}, \"processIdentifier\":{\"$numberInt\":\"353\"}, \"counter\":{\"$numberInt\":\"636\"}}, \"name\":\"6ai\", \"description\":\"OGgZqADEqPQ\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"938\"}, \"machineIdentifier\":{\"$numberInt\":\"527\"}, \"processIdentifier\":{\"$numberInt\":\"560\"}, \"counter\":{\"$numberInt\":\"1866253875\"}}, \"name\":\"DeVpSTyvI1jjG\", \"description\":\"soHhef\", \"quantity\":{\"$numberInt\":\"430\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"527\"}, \"machineIdentifier\":{\"$numberInt\":\"757\"}, \"processIdentifier\":{\"$numberInt\":\"1000\"}, \"counter\":{\"$numberInt\":\"234\"}}, \"name\":\"Iri8dzsKT5C2jg\", \"description\":\"oPbpaZ9B\", \"quantity\":{\"$numberInt\":\"923\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"3bb12a7e3305967aacd53a8f\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"jHs0n7ZAghNkA30\", \"name\":\"]U\", \"address\":\"DoVb\", \"beds\":{\"$numberInt\":\"-67108843\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"PdFg\", \"name\":\"q\", \"referenceId\":\"_EM_4817_XYZ_\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"200965.4911567784\"}, {\"$numberDouble\":\"0.4859171350833805\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"D_CV5PT3ERJnAM7l\", \"name\":\"UFzjOxW0\", \"cpf\":\"_EM_3435_XYZ_r\", \"birthDate\":{\"$date\":{\"$numberLong\":\"4113000000000\"}}, \"gender\":\"hFBdRWFK\", \"entryDate\":{\"$date\":{\"$numberLong\":\"947998800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1024200000000\"}}, \"active\":false, \"location\":{\"id\":\"6api7G\", \"name\":\"_EM_5984_XYZ_\", \"referenceId\":\"_EM_5985_XYZ_\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"130680.47364770426\"}, {\"$numberDouble\":\"0.5446285921779154\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"-260833788\"}, \"machineIdentifier\":{\"$numberInt\":\"30\"}, \"processIdentifier\":{\"$numberInt\":\"4218\"}, \"counter\":{\"$numberInt\":\"858\"}}, \"name\":\"jUGK3i\", \"description\":\"QhU7\", \"quantity\":{\"$numberInt\":\"680\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"252\"}, \"machineIdentifier\":{\"$numberInt\":\"421\"}, \"processIdentifier\":{\"$numberInt\":\"511\"}, \"counter\":{\"$numberInt\":\"576\"}}, \"name\":\"obKrc1\", \"description\":\"naG\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"16417\"}, \"machineIdentifier\":{\"$numberInt\":\"66492\"}, \"processIdentifier\":{\"$numberInt\":\"-977\"}, \"counter\":{\"$numberInt\":\"1000\"}}, \"name\":\"_EM_2700_XYZ_\", \"description\":\"_EM_2701_XYZ_\", \"quantity\":{\"$numberInt\":\"1246\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"507\"}, \"machineIdentifier\":{\"$numberInt\":\"840\"}, \"processIdentifier\":{\"$numberInt\":\"10\"}, \"counter\":{\"$numberInt\":\"800\"}}, \"name\":\"cU60PpQGKEe4\", \"description\":\"ZSh8M\", \"quantity\":{\"$numberInt\":\"824\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"773\"}, \"machineIdentifier\":{\"$numberInt\":\"380\"}, \"processIdentifier\":{\"$numberInt\":\"31713\"}, \"counter\":{\"$numberInt\":\"635\"}}, \"name\":\"\", \"description\":\"FPEO\", \"quantity\":{\"$numberInt\":\"844\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"c7faecf7106f5a15fe4d0512\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"_kBVfn\", \"name\":\"_EM_5995_XYZ_\", \"address\":\"8Zeeh8\", \"beds\":{\"$numberInt\":\"1624\"}, \"availableBeds\":{\"$numberInt\":\"524734\"}, \"location\":{\"id\":\"yU9EsrU2k\", \"name\":\"aQzqYpk2gJCoYSRZ\", \"referenceId\":\"_EM_5996_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-0.7721449479516744\"}, {\"$numberDouble\":\"0.7818\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"41B]n\", \"name\":\"rXN2\", \"cpf\":\"_EM_2702_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1942200000000\"}}, \"gender\":\"_EM_4818_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1396843200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-2177521200000\"}}, \"active\":true, \"location\":{\"id\":\"_EM_2703_XYZ_\", \"name\":\"VLKzS3MiNBqbi\", \"referenceId\":\"eDpgEsMELl\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5982238\"}, {\"$numberDouble\":\"0.5322926164703307\"}], \"type\":\"Point\"}}}, {\"id\":\"XMVUV?\", \"name\":\"hdP\", \"cpf\":\"WcWXHvTP_Qq\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1977278400000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1637730000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-831153600000\"}}, \"active\":false, \"location\":{\"id\":\"Pp84ooMjwtj\", \"name\":\"FusiUl3\", \"referenceId\":\"4ZuODr19JS\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8520099702637818\"}, {\"$numberDouble\":\"0.3744436783385027\"}], \"type\":\"Point\"}}}, {\"id\":\"CGApl9ItN9JX\", \"name\":\"WYU26ViYaVDb\", \"cpf\":\"_EM_4819_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1791086400000\"}}, \"gender\":\"_EM_5997_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"483166800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-219351600000\"}}, \"active\":true, \"location\":{\"id\":\"iLBlVq7ucWfFx\", \"name\":\"_EM_2939_XYZ_\", \"referenceId\":\"2Vpo\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-1.4012375387241187\"}, {\"$numberDouble\":\"0.24138135013898054\"}], \"type\":\"Point\"}}}, {\"id\":\"_E4iEe\", \"name\":\"3JxFgt2Y\", \"cpf\":\"TA\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1915642800000\"}}, \"gender\":\"75Aq2RJcz_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2951092800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2059272000000\"}}, \"active\":true, \"location\":{\"id\":\"pi\", \"name\":\"5moPt2Ch9TUf8\", \"referenceId\":\"6FqQaujwp\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7087756297228761\"}, {\"$numberDouble\":\"0.6050565637622861\"}], \"type\":\"Point\"}}}, {\"id\":\"tPiFwa_sRyJcFo4\", \"name\":\"_EM_5998_XYZ_\", \"cpf\":\"UFzjOxW0\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3658539600000\"}}, \"gender\":\"8UJ-K\", \"entryDate\":{\"$date\":{\"$numberLong\":\"528609600000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"272433600000\"}}, \"active\":false, \"location\":{\"id\":\"7cvNl_1E\", \"name\":\"o\", \"referenceId\":\"7i\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5425315561010615\"}, {\"$numberDouble\":\"0.403157671755889\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"-2096167\"}, \"machineIdentifier\":{\"$numberInt\":\"902\"}, \"processIdentifier\":{\"$numberInt\":\"683\"}, \"counter\":{\"$numberInt\":\"16777854\"}}, \"name\":\"n_j3264gt\", \"description\":\"BpHJMNj\", \"quantity\":{\"$numberInt\":\"840\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"909\"}, \"machineIdentifier\":{\"$numberInt\":\"489\"}, \"processIdentifier\":{\"$numberInt\":\"195\"}, \"counter\":{\"$numberInt\":\"864\"}}, \"name\":\"8w9z\", \"description\":\"i\", \"quantity\":{\"$numberInt\":\"317\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"786\"}, \"machineIdentifier\":{\"$numberInt\":\"524978\"}, \"processIdentifier\":{\"$numberInt\":\"854\"}, \"counter\":{\"$numberInt\":\"17223\"}}, \"name\":\"-`s\", \"description\":\"IG9\", \"quantity\":{\"$numberInt\":\"-14679475\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"-294862\"}, \"machineIdentifier\":{\"$numberInt\":\"17208\"}, \"processIdentifier\":{\"$numberInt\":\"112\"}, \"counter\":{\"$numberInt\":\"-2096900\"}}, \"name\":\"_EM_4868_XYZ_\", \"description\":\"PtOO\", \"quantity\":{\"$numberInt\":\"2098036\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"655\"}, \"machineIdentifier\":{\"$numberInt\":\"809\"}, \"processIdentifier\":{\"$numberInt\":\"809\"}, \"counter\":{\"$numberInt\":\"513\"}}, \"name\":\"DuFyBDW\", \"description\":\"R_XXGHE\", \"quantity\":{\"$numberInt\":\"4194663\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"852001dcd23dd2f8e048bb76\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"N\", \"name\":\"F\", \"address\":\"_EM_6924_XYZ_\", \"beds\":{\"$numberInt\":\"-490492\"}, \"availableBeds\":{\"$numberInt\":\"2\"}, \"location\":{\"id\":\"4R5l\", \"name\":\"_EM_4829_XYZ_\", \"referenceId\":\"8Cxpm_a5jk1O\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-5.009261327970455E7\"}, {\"$numberDouble\":\"1.2467436700086432\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"Q2W7cvld1ZGPiN8x\", \"name\":\"I\", \"cpf\":\"Hl92ddnuEGBS7\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-79905600000\"}}, \"gender\":\"1QFGZTZRlLPt\", \"entryDate\":{\"$date\":{\"$numberLong\":\"4083105600000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1368676800000\"}}, \"active\":true, \"location\":{\"id\":\"Jyndl_bATR1wa6d\", \"name\":\"YooCcZURkpXwv4\", \"referenceId\":\"FP\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.6880670238713491\"}, {\"$numberDouble\":\"0.6122254229489843\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"206\"}, \"machineIdentifier\":{\"$numberInt\":\"-16776851\"}, \"processIdentifier\":{\"$numberInt\":\"826\"}, \"counter\":{\"$numberInt\":\"-16776470\"}}, \"name\":\"Open\u0080R\", \"description\":\"_EM_5986_XYZ_\", \"quantity\":{\"$numberInt\":\"33731\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"827\"}, \"machineIdentifier\":{\"$numberInt\":\"792\"}, \"processIdentifier\":{\"$numberInt\":\"958\"}, \"counter\":{\"$numberInt\":\"703\"}}, \"name\":\"Nn0uBMcU0GDrBh\", \"description\":\"5DHo7JLEcR4J\", \"quantity\":{\"$numberInt\":\"-32284\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"-32224\"}, \"machineIdentifier\":{\"$numberInt\":\"377\"}, \"processIdentifier\":{\"$numberInt\":\"716\"}, \"counter\":{\"$numberInt\":\"154\"}}, \"name\":\"EdVrSsJ2_\", \"description\":\"Dsl\", \"quantity\":{\"$numberInt\":\"694\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"853\"}, \"machineIdentifier\":{\"$numberInt\":\"472\"}, \"processIdentifier\":{\"$numberInt\":\"428\"}, \"counter\":{\"$numberInt\":\"677\"}}, \"name\":\"w8JLRDl\", \"description\":\"Lj5\", \"quantity\":{\"$numberInt\":\"215\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"479\"}, \"machineIdentifier\":{\"$numberInt\":\"654\"}, \"processIdentifier\":{\"$numberInt\":\"11\"}, \"counter\":{\"$numberInt\":\"847\"}}, \"name\":\"_EM_5999_XYZ_\", \"description\":\"Z\", \"quantity\":{\"$numberInt\":\"603\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"4ffe0e34bab5fedd6e7ceb6a\"}}")
            .and().insertInto("HospitalDB", "location_collection")
                .d("{\"id\":\"_EM_6925_XYZ_\", \"name\":\"sBYYcfq1hWF\", \"referenceId\":\"1S3Za0Oh3X_dT\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-0.14287399219392705\"}, {\"$numberDouble\":\"0.25732979077690454\"}], \"type\":\"Point\"}, \"_id\":{\"$oid\":\"b2c4c726be8aebeb6092ab87\"}}")
            .dtos();
        MongoInsertionResultsDto insertionsresult = controller.execInsertionsIntoMongoDatabase(insertions);
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/hospitaisProximos'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/c7faecf7106f5a15fe4d0512/hospitaisProximos?raio=38944.873427222126")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/estoque'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"id\": \"_EM_5878_XYZ_\", " + 
                    " \"name\": \"HEWh09lcVeAF\", " + 
                    " \"productName\": \"tIQCSF1DThDYTyk\", " + 
                    " \"quantity\": 1217 " + 
                    " } ")
                .post(baseUrlOfSut + "/v1/hospitais/d7dbead6f04d5a241c4f0512/estoque")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault100. HTTP Status 500. br/com/codenation/hospital/services/LocationService_109_findHospitalNearLocationBy.
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 500 not defined for path '/v1/hospitais/maisProximo'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/maisProximo?" + 
                    "lat=0.4053881641395063&" + 
                    "lon=1.5254511318772224&" + 
                    "raioMaximo=0.7671833159228174")
                .then()
                .statusCode(500)// br/com/codenation/hospital/services/LocationService_109_findHospitalNearLocationBy
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(500.0))
                .body("'error'", containsString("Internal Server Error"))
                .body("'path'", containsString("/v1/hospitais/maisProximo"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"address\": \"kiFWnDS\", " + 
                    " \"availableBeds\": 88, " + 
                    " \"beds\": 105, " + 
                    " \"id\": \"_EM_6000_XYZ_\", " + 
                    " \"longitude\": \"fV8\" " + 
                    " } ")
                .put(baseUrlOfSut + "/v1/hospitais/c")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
    }
}

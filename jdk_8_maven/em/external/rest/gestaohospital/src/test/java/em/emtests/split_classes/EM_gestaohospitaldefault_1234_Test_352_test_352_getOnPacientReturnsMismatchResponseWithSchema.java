package em.emtests.split_classes;
/**
* LICENSE DISCLAIMER
* This file has been generated by EvoMaster.
* The content of this file is not subject to the license of EvoMaster itself, i.e., LGPL.
* This generated software (i.e., the test suite in this file) can be freely used, modified, 
* and distributed as you see fit without any restrictions.
*/
import  org.junit.jupiter.api.AfterAll;
import  org.junit.jupiter.api.BeforeAll;
import  org.junit.jupiter.api.BeforeEach;
import  org.junit.jupiter.api.Test;
import  org.junit.jupiter.api.Timeout;
import static org.junit.jupiter.api.Assertions.*;
import  java.util.Map;
import  java.util.Arrays;
import  java.util.List;
import static org.evomaster.test.utils.EMTestUtils.*;
import  org.evomaster.client.java.controller.SutHandler;
import  io.restassured.RestAssured;
import static io.restassured.RestAssured.given;
import  io.restassured.response.ValidatableResponse;
import static org.evomaster.client.java.controller.mongo.dsl.MongoDsl.mongo;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionResultsDto;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionDto;
import static org.hamcrest.Matchers.*;
import  io.restassured.config.JsonConfig;
import  io.restassured.path.json.config.JsonPathConfig;
import static io.restassured.config.RedirectConfig.redirectConfig;
import static org.evomaster.client.java.controller.contentMatchers.NumberMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.StringMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.SubStringMatcher.*;




/**
*  This file was automatically generated by EvoMaster on 2025-09-03T21:43:27.165-04:00[America/New_York]
 * <br>
*  The generated test suite contains 408 tests
 * <br>
*  Covered targets: 2217
 * <br>
*  Used time: 1h 5m 2s
 * <br>
*  Needed budget for current results: 99%
 * <br>
*  
*/

public class EM_gestaohospitaldefault_1234_Test_352_test_352_getOnPacientReturnsMismatchResponseWithSchema {
    

    
    private static final SutHandler controller = new em.external.br.com.codenation.hospital.ExternalEvoMasterController("/home/rhuang329/coaster/EMB/exp2/gestaohospital-sut.jar");
    private static String baseUrlOfSut;

    @BeforeAll
    public static void initClass() {
        controller.setupForGeneratedTest();
        baseUrlOfSut = controller.startSut();
        controller.registerOrExecuteInitSqlCommandsIfNeeded();
        assertNotNull(baseUrlOfSut);
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
        RestAssured.useRelaxedHTTPSValidation();
        RestAssured.urlEncodingEnabled = false;
        RestAssured.config = RestAssured.config()
            .jsonConfig(JsonConfig.jsonConfig().numberReturnType(JsonPathConfig.NumberReturnType.DOUBLE))
            .redirect(redirectConfig().followRedirects(false));
    }

    @AfterAll
    public static void tearDown() {
        controller.stopSut();
    }

    @BeforeEach
    public void initTest() {
        controller.resetStateOfSUT();
    }

    /**
    * Calls:
    * 1 - (400) GET:/v1/hospitais/{hospital_id}/hospitaisProximos
    * 2 - (200) POST:/v1/hospitais/
    * 3 - (200) GET:/v1/hospitais/{id}/leitos
    * 4 - (404) GET:/v1/hospitais/{hospital_id}/pacientes
    * 5 - (400) POST:/v1/hospitais/{id}/transferencia/{productId}
    * 6 - (400) POST:/v1/hospitais/
    * 7 - (400) GET:/v1/hospitais/{hospital_id}/estoque
    * 8 - (404) GET:/v1/hospitais/{hospital_id}/pacientes/{patientId}
    * Found 5 potential faults of type-code 101
    */
    @Test @Timeout(60)
    public void test_352_getOnPacientReturnsMismatchResponseWithSchema() throws Exception {
        List<MongoInsertionDto> insertions = mongo().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"UklHUK\", \"name\":\"4gDxpSh9\", \"address\":\"U1z\", \"beds\":{\"$numberInt\":\"2097409\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"e43IyxNgwM\", \"name\":\"ytrVSvsB\", \"referenceId\":\"_EM_3949_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-0.4536559744435\"}, {\"$numberDouble\":\"1.6798891747006552\"}], \"type\":\"Point\"}}, \"patients\":[], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"720\"}, \"machineIdentifier\":{\"$numberInt\":\"758\"}, \"processIdentifier\":{\"$numberInt\":\"196\"}, \"counter\":{\"$numberInt\":\"47\"}}, \"name\":\"2dsA7h\", \"description\":\"U4H4Z4WJXcn1niG\", \"quantity\":{\"$numberInt\":\"648\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"845\"}, \"machineIdentifier\":{\"$numberInt\":\"368\"}, \"processIdentifier\":{\"$numberInt\":\"24\"}, \"counter\":{\"$numberInt\":\"799\"}}, \"name\":\"rd8FHnO\", \"description\":\"oEGeXAd3bt\", \"quantity\":{\"$numberInt\":\"794\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"888\"}, \"machineIdentifier\":{\"$numberInt\":\"367\"}, \"processIdentifier\":{\"$numberInt\":\"339\"}, \"counter\":{\"$numberInt\":\"739\"}}, \"name\":\"UI9kSEU59L6\", \"description\":\"MDT\", \"quantity\":{\"$numberInt\":\"832\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"729\"}, \"machineIdentifier\":{\"$numberInt\":\"284\"}, \"processIdentifier\":{\"$numberInt\":\"0\"}, \"counter\":{\"$numberInt\":\"733\"}}, \"name\":\"mG\", \"description\":\"MPUUUUUUDUU1\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"edf3b0c56d6ea75aeff5f433\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"MnTaXQ0tUSVX1\", \"name\":\"mD\", \"address\":\"\", \"beds\":{\"$numberInt\":\"-131072\"}, \"availableBeds\":{\"$numberInt\":\"187\"}, \"location\":{\"id\":\"Ug8U\", \"name\":\"_\", \"referenceId\":\"1vGTgJtQ6Sv\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7350638383041205\"}, {\"$numberDouble\":\"0.4465969569016811\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"MBVYuSKH7yhS35A\", \"name\":\"tQO2v2mjKz\", \"cpf\":\"4pkLtgDb_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"961128000000\"}}, \"gender\":\"_EM_1=52_UYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"181108800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"950677200000\"}}, \"active\":false, \"location\":{\"id\":\"BgVlteEXEw\", \"name\":\"vSXbfEZuMo30HYZ\", \"referenceId\":\"9GOSX6RAdpiw\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8441069367996541\"}, {\"$numberDouble\":\"0.40990692253572913\"}], \"type\":\"Point\"}}}, {\"id\":\"qXrzkXe4SXjM\", \"name\":\"h4JALYpcDA\", \"cpf\":\"qDmOa2_Zj\", \"birthDate\":{\"$date\":{\"$numberLong\":\"771912000000\"}}, \"gender\":\"PDpz\", \"entryDate\":{\"$date\":{\"$numberLong\":\"517896000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-2043514800000\"}}, \"active\":true, \"location\":{\"id\":\"vETh\", \"name\":\"1Un9RmUI5g\\\\\", \"referenceId\":\"_EM_9009_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.205568\"}, {\"$numberDouble\":\"0.7614203566769377\"}], \"type\":\"Point\"}}}, {\"id\":\"6Ko29\", \"name\":\"MocaOiVEAbbkcpW\", \"cpf\":\"dE48P7\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1728154800000\"}}, \"gender\":\"bdu\", \"entryDate\":{\"$date\":{\"$numberLong\":\"800337600000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"154328400000\"}}, \"active\":true, \"location\":{\"id\":\"PApuhzk30\", \"name\":\"rUmrr\", \"referenceId\":\"\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.406113794994303\"}, {\"$numberDouble\":\"0.04069246972124263\"}], \"type\":\"Point\"}}}, {\"id\":\"T11UUYDKn1s\", \"name\":\"KRnWaR1JiQ\", \"cpf\":\"UCLk5cyVqkLyQvpI\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3154309200000\"}}, \"gender\":\"vnitWnC7hqTgAzE\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3488760000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"844488000000\"}}, \"active\":false, \"location\":{\"id\":\"9j9Gb8wpfW\", \"name\":\"I2Jt3BSWOtzAR\", \"referenceId\":\"S3VqZyNVDBKV\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8839275665085751\"}, {\"$numberDouble\":\"0.8129402311369456\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"-101337552\"}, \"machineIdentifier\":{\"$numberInt\":\"27\"}, \"processIdentifier\":{\"$numberInt\":\"991\"}, \"counter\":{\"$numberInt\":\"196\"}}, \"name\":\"lEbm5Xsg\", \"description\":\"HGfhkKulenoYDsbm\", \"quantity\":{\"$numberInt\":\"-1726548373\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"61f5caaff9ed7ead96abb62f\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"8JgD5oAr5n5p\", \"name\":\"\", \"address\":\"cQfXB0e\", \"beds\":{\"$numberInt\":\"93\"}, \"availableBeds\":{\"$numberInt\":\"158\"}, \"location\":{\"id\":\"ZONUIOYo\", \"name\":\"PSloxW\", \"referenceId\":\"f7sA17UXDJO\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.772551900082456\"}, {\"$numberDouble\":\"0.7694173960895634\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"N\", \"name\":\"FjxQe0wJ\", \"cpf\":\"gX36sowBt2JSdCwg\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2700014400000\"}}, \"gender\":\"7UUH3LAi\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2456974800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-330379200000\"}}, \"active\":true, \"location\":{\"id\":\"NUa0FcG8XnXZ9\", \"name\":\"_WR13CYeX64r\", \"referenceId\":\"4YxqVb\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8147276558202144\"}, {\"$numberDouble\":\"0.9333660445007675\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"19\"}, \"machineIdentifier\":{\"$numberInt\":\"163\"}, \"processIdentifier\":{\"$numberInt\":\"18544\"}, \"counter\":{\"$numberInt\":\"819\"}}, \"name\":\"ZHy0J6JuP\", \"description\":\"_xyZtl1dpKUmy\", \"quantity\":{\"$numberInt\":\"536\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"325\"}, \"machineIdentifier\":{\"$numberInt\":\"61\"}, \"processIdentifier\":{\"$numberInt\":\"629\"}, \"counter\":{\"$numberInt\":\"753\"}}, \"name\":\"ukeU1ksfvvo\", \"description\":\"8GoLP\", \"quantity\":{\"$numberInt\":\"490\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"817\"}, \"machineIdentifier\":{\"$numberInt\":\"859\"}, \"processIdentifier\":{\"$numberInt\":\"660\"}, \"counter\":{\"$numberInt\":\"774\"}}, \"name\":\"Ce6VKHujxt9wlszA\", \"description\":\"sxm0GMBRR\", \"quantity\":{\"$numberInt\":\"960\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"802\"}, \"machineIdentifier\":{\"$numberInt\":\"68\"}, \"processIdentifier\":{\"$numberInt\":\"836\"}, \"counter\":{\"$numberInt\":\"703\"}}, \"name\":\"pgpcxBKKC5u\", \"description\":\"w_NOZ1YHCs_G\", \"quantity\":{\"$numberInt\":\"432\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"7b5cba7eba2d82a6bab28dd5\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"TkEti6XAGzN2NI\", \"name\":\"_EM_9010_XYZ_\", \"address\":\"QzbxOBN5wZdS_\", \"beds\":{\"$numberInt\":\"8758\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"_EM_9053_XYZ_\", \"name\":\"aSSbqaW6BCwK\", \"referenceId\":\"O8pglqPwQcpWVNxN\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5185503221902319\"}, {\"$numberDouble\":\"0.9864353844924589\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"Psuj\", \"name\":\"QfDLksdE4\", \"cpf\":\"_EM_3955_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1520913600000\"}}, \"gender\":\"_EM_3956_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1740718800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3684283200000\"}}, \"active\":false, \"location\":{\"id\":\"3_C9dt\", \"name\":\"_EM_3957_XYZ_\", \"referenceId\":\"_EM_3958_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8902496730103412\"}, {\"$numberDouble\":\"0.45041057260684636\"}], \"type\":\"Point\"}}}, {\"id\":\"_EM_9054_XYZ_\", \"name\":\"t\", \"cpf\":\"1vfkbHmSd5wJTk\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-74289600000\"}}, \"gender\":\"Qtym\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2970277200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"310194000000\"}}, \"active\":false, \"location\":{\"id\":\"R6xOu\", \"name\":\"\", \"referenceId\":\"Z\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.6401815681537093\"}, {\"$numberDouble\":\"0.05190738138823048\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"16\"}, \"machineIdentifier\":{\"$numberInt\":\"247\"}, \"processIdentifier\":{\"$numberInt\":\"784\"}, \"counter\":{\"$numberInt\":\"954\"}}, \"name\":\"BBqsmWNopOr\", \"description\":\"0B\", \"quantity\":{\"$numberInt\":\"677\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"948\"}, \"machineIdentifier\":{\"$numberInt\":\"419\"}, \"processIdentifier\":{\"$numberInt\":\"14277\"}, \"counter\":{\"$numberInt\":\"701\"}}, \"name\":\"q\", \"description\":\"_EM_3959_XYZ_\", \"quantity\":{\"$numberInt\":\"1282\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"942\"}, \"machineIdentifier\":{\"$numberInt\":\"262898\"}, \"processIdentifier\":{\"$numberInt\":\"945\"}, \"counter\":{\"$numberInt\":\"2097624\"}}, \"name\":\"\", \"description\":\"_EM_9055_XYZ_\", \"quantity\":{\"$numberInt\":\"570\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"806cfc9bedee153df4aaa4ea\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"RDxxrrV\", \"name\":\"u60t\", \"address\":\"lY:\", \"beds\":{\"$numberInt\":\"38\"}, \"availableBeds\":{\"$numberInt\":\"-33553577\"}, \"location\":{\"id\":\"dtVzY\", \"name\":\"mNTCxUt6HmFO2Mgt\", \"referenceId\":\"djJYqz6Bi0U\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8498199538301486\"}, {\"$numberDouble\":\"0.6494411120292191\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"2X4nVOo8aPsvim\", \"name\":\"wbkvitXvzUT\", \"cpf\":\"UU\", \"birthDate\":{\"$date\":{\"$numberLong\":\"975387600000\"}}, \"gender\":\"QdhFXQn8Xq4HtSo\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2639188800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"951541200000\"}}, \"active\":false, \"location\":{\"id\":\"2qeito\", \"name\":\"dtQdigX7A\", \"referenceId\":\"C_fu3Vl0\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.08116085787975169\"}, {\"$numberDouble\":\"0.48266222015608506\"}], \"type\":\"Point\"}}}, {\"id\":\"42\", \"name\":\"\", \"cpf\":\"HWy\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-761857200000\"}}, \"gender\":\"L\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3910568400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"4102635600000\"}}, \"active\":true, \"location\":{\"id\":\"pEjo4nB\", \"name\":\"L\", \"referenceId\":\"4dRLlhF0pm\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5999715022562396\"}, {\"$numberDouble\":\"0.1287152113653517\"}], \"type\":\"Point\"}}}, {\"id\":\"hadI8mMRguYrWEo\", \"name\":\"dVUj5QjuhFC\", \"cpf\":\"_EM_3960_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2517796800000\"}}, \"gender\":\"9n13bpwdO678\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2043946800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2161137600000\"}}, \"active\":true, \"location\":{\"id\":\"rf9mp1YY\", \"name\":\"7chPtD_UgWP\", \"referenceId\":\"U\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5036164037556695\"}, {\"$numberDouble\":\"0.7917167271408743\"}], \"type\":\"Point\"}}}, {\"id\":\"wovM1iESchYoTstL\", \"name\":\"lGz2k9MkGmro4\", \"cpf\":\"qauhNs1Ekjw3Nm\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2245640400000\"}}, \"gender\":\"yNRzarXm3\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2000347200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1145678400000\"}}, \"active\":false, \"location\":{\"id\":\"Zj\", \"name\":\"hHCYSpffXMJBP\", \"referenceId\":\"XaX\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.36953849016519613\"}, {\"$numberDouble\":\"0.6791312273274044\"}], \"type\":\"Point\"}}}, {\"id\":\"S1osgN4\", \"name\":\"5xWi\", \"cpf\":\"_EM_3961_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-174945600000\"}}, \"gender\":\"7c7Yv\", \"entryDate\":{\"$date\":{\"$numberLong\":\"741931200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1816315200000\"}}, \"active\":false, \"location\":{\"id\":\"4rcdB4XI6v510pu\", \"name\":\"I3Xf\", \"referenceId\":\"IWb\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8823380946288126\"}, {\"$numberDouble\":\"0.601620678727529\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"979\"}, \"machineIdentifier\":{\"$numberInt\":\"910\"}, \"processIdentifier\":{\"$numberInt\":\"638\"}, \"counter\":{\"$numberInt\":\"617\"}}, \"name\":\"rNbzQeqvi6\", \"description\":\"AykuZe_8Y5Os\", \"quantity\":{\"$numberInt\":\"778\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"8feaa89e29570ee83a105b3c\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"oUU2QVBl2r4UVUZ\", \"name\":\"6HdbiYq0dg2E1O\", \"address\":\"R1\", \"beds\":{\"$numberInt\":\"263008\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"4G87_V\", \"name\":\"5N8ciYy\", \"referenceId\":\"WRS8Sus4ST\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.18956819699603644\"}, {\"$numberDouble\":\"0.411708428579882\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"\", \"name\":\"uJVNy4qXKa3\", \"cpf\":\"IN\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-428961600000\"}}, \"gender\":\"nnUzaI6\", \"entryDate\":{\"$date\":{\"$numberLong\":\"620971200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2222049600000\"}}, \"active\":false, \"location\":{\"id\":\"0Ft7CC3ji\", \"name\":\"z_vkmJPVZ\", \"referenceId\":\"NQ\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7755817278100675\"}, {\"$numberDouble\":\"0.06632967131419487\"}], \"type\":\"Point\"}}}, {\"id\":\"tlRhUpf\", \"name\":\"bUChqBw2i61S_jdS\", \"cpf\":\"6gQdo_I8lFnf\", \"birthDate\":{\"$date\":{\"$numberLong\":\"572763600000\"}}, \"gender\":\"R7jJrk4ZRoHgAIGW\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1782241200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2271128400000\"}}, \"active\":false, \"location\":{\"id\":\"z\", \"name\":\"XPB3y\", \"referenceId\":\"7XJFj6B\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5690802930134711\"}, {\"$numberDouble\":\"0.20289329306026638\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"812\"}, \"machineIdentifier\":{\"$numberInt\":\"340\"}, \"processIdentifier\":{\"$numberInt\":\"-14587\"}, \"counter\":{\"$numberInt\":\"954\"}}, \"name\":\"WZth\", \"description\":\"_qX2T8XQjX\", \"quantity\":{\"$numberInt\":\"295\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"-131051\"}, \"machineIdentifier\":{\"$numberInt\":\"444\"}, \"processIdentifier\":{\"$numberInt\":\"184\"}, \"counter\":{\"$numberInt\":\"224\"}}, \"name\":\"_EM_3962_XYZ_\", \"description\":\"4\", \"quantity\":{\"$numberInt\":\"775\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"93\"}, \"machineIdentifier\":{\"$numberInt\":\"152\"}, \"processIdentifier\":{\"$numberInt\":\"-21657\"}, \"counter\":{\"$numberInt\":\"530\"}}, \"name\":\"_EM_9056_XYZ_\", \"description\":\"m\", \"quantity\":{\"$numberInt\":\"651\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"de4b968061d93771acb9a43b\"}}")
            .and().insertInto("HospitalDB", "product_collection")
                .d("{\"name\":\"BdMU8UUJFdUU2\", \"description\":\"YU\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"COMMON\", \"_id\":{\"$oid\":\"68bf2925db401fe41a70f47c\"}}")
            .and().insertInto("HospitalDB", "patient_collection")
                .d("{\"id\":\"z4AHiJalfek_dO\", \"name\":\"HZL2gxdVD3xtl87\", \"cpf\":\"noPXfJKDHAbN3r\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1941649200000\"}}, \"gender\":\"ZQAtX_tO\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1809716400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3080174400000\"}}, \"active\":false, \"location\":{\"id\":\"GAjN5ls\", \"name\":\"7XgW9EWTrqaAkx7\", \"referenceId\":\"wH2lLN4dXd\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.6070383373290801\"}, {\"$numberDouble\":\"0.749382364499247\"}], \"type\":\"Point\"}}, \"_id\":{\"$oid\":\"4ef7afbbf6e41c270de9bdd3\"}}")
            .dtos();
        MongoInsertionResultsDto insertionsresult = controller.execInsertionsIntoMongoDatabase(insertions);
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/hospitaisProximos'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/OzPzFUnCnbTunc/hospitaisProximos?raio=0.8471630279902556")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        ValidatableResponse res_1 = given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"address\": \"GC\", " + 
                    " \"availableBeds\": 732, " + 
                    " \"latitude\": \"lzfeCz\", " + 
                    " \"longitude\": \"IE_gdZp\", " + 
                    " \"name\": \"NyDtXF4b\" " + 
                    " } ")
                .post(baseUrlOfSut + "/v1/hospitais/")
                .then()
                .statusCode(200)
                .assertThat()
                .contentType("application/json")
                .body("'name'", containsString("NyDtXF4b"))
                .body("'address'", containsString("GC"))
                .body("'beds'", numberMatches(0.0))
                .body("'availableBeds'", numberMatches(732.0))
                .body("'longitude'", containsString("72.9083668"))
                .body("'latitude'", containsString("19.0856928"));
        String 
        location_hospitais__1376 = "/v1/hospitais/" + "/" + res_1.extract().body().path("id").toString();
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.body.schema.type. [Path '/address'] Instance type (string) does not match any allowed primitive type (allowed: ["integer"])
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(resolveLocation(location_hospitais__1376, baseUrlOfSut + "/v1/hospitais/0VnOpQ/leitos"))
                .then()
                .statusCode(200)
                .assertThat()
                .contentType("application/json")
                .body("'name'", containsString("NyDtXF4b"))
                .body("'address'", containsString("GC"))
                .body("'beds'", numberMatches(0.0))
                .body("'availableBeds'", numberMatches(732.0))
                .body("'longitude'", containsString("72.9083668"))
                .body("'latitude'", containsString("19.0856928"));
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/cWr8j7_g/pacientes?raio=xS_UQY9prYG4n7_")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{id}/transferencia/{productId}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" 1082130616 ")
                .post(baseUrlOfSut + "/v1/hospitais/62f5caaff9ed7ead96abb62f/transferencia/QZQ2ehlRswhOZxp_")
                .then()
                .statusCode(400)
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(400.0))
                .body("'error'", containsString("Bad Request"))
                .body("'message'", containsString("Hospital não encontrado! ID:62f5caaff9ed7ead96abb62f"))
                .body("'path'", containsString("/v1/hospitais/62f5caaff9ed7ead96abb62f/transferencia/QZQ2ehlRswhOZxp_"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"availableBeds\": 1554, " + 
                    " \"beds\": -306, " + 
                    " \"latitude\": \"_EM_4223_XYZ_\", " + 
                    " \"longitude\": \"_EM_2319_XYZ_\" " + 
                    " } ")
                .post(baseUrlOfSut + "/v1/hospitais/")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/estoque'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/4Vx/estoque")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/68Peq/pacientes/5")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
    }
}

package em.emtests.split_classes;
/**
* LICENSE DISCLAIMER
* This file has been generated by EvoMaster.
* The content of this file is not subject to the license of EvoMaster itself, i.e., LGPL.
* This generated software (i.e., the test suite in this file) can be freely used, modified, 
* and distributed as you see fit without any restrictions.
*/
import  org.junit.jupiter.api.AfterAll;
import  org.junit.jupiter.api.BeforeAll;
import  org.junit.jupiter.api.BeforeEach;
import  org.junit.jupiter.api.Test;
import  org.junit.jupiter.api.Timeout;
import static org.junit.jupiter.api.Assertions.*;
import  java.util.Map;
import  java.util.Arrays;
import  java.util.List;
import static org.evomaster.test.utils.EMTestUtils.*;
import  org.evomaster.client.java.controller.SutHandler;
import  io.restassured.RestAssured;
import static io.restassured.RestAssured.given;
import  io.restassured.response.ValidatableResponse;
import static org.evomaster.client.java.controller.mongo.dsl.MongoDsl.mongo;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionResultsDto;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionDto;
import static org.hamcrest.Matchers.*;
import  io.restassured.config.JsonConfig;
import  io.restassured.path.json.config.JsonPathConfig;
import static io.restassured.config.RedirectConfig.redirectConfig;
import static org.evomaster.client.java.controller.contentMatchers.NumberMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.StringMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.SubStringMatcher.*;




/**
*  This file was automatically generated by EvoMaster on 2025-09-03T21:43:27.165-04:00[America/New_York]
 * <br>
*  The generated test suite contains 408 tests
 * <br>
*  Covered targets: 2217
 * <br>
*  Used time: 1h 5m 2s
 * <br>
*  Needed budget for current results: 99%
 * <br>
*  
*/

public class EM_gestaohospitaldefault_1234_Test_55_test_55_putOnHospitaiShowsFaults_100_101 {
    

    
    private static final SutHandler controller = new em.external.br.com.codenation.hospital.ExternalEvoMasterController("/home/rhuang329/coaster/EMB/exp2/gestaohospital-sut.jar");
    private static String baseUrlOfSut;

    @BeforeAll
    public static void initClass() {
        controller.setupForGeneratedTest();
        baseUrlOfSut = controller.startSut();
        controller.registerOrExecuteInitSqlCommandsIfNeeded();
        assertNotNull(baseUrlOfSut);
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
        RestAssured.useRelaxedHTTPSValidation();
        RestAssured.urlEncodingEnabled = false;
        RestAssured.config = RestAssured.config()
            .jsonConfig(JsonConfig.jsonConfig().numberReturnType(JsonPathConfig.NumberReturnType.DOUBLE))
            .redirect(redirectConfig().followRedirects(false));
    }

    @AfterAll
    public static void tearDown() {
        controller.stopSut();
    }

    @BeforeEach
    public void initTest() {
        controller.resetStateOfSUT();
    }

    /**
    * Calls:
    * 1 - (500) GET:/v1/hospitais/maisProximo
    * 2 - (404) POST:/v1/hospitais/{hospital_id}/pacientes/checkout
    * 3 - (400) GET:/v1/hospitais/{id}/leitos
    * 4 - (400) POST:/v1/hospitais/{id}/transferencia/{productId}
    * 5 - (400) POST:/v1/hospitais/
    * 6 - (400) GET:/v1/hospitais/{hospital_id}/proximidades
    * 7 - (404) GET:/v1/hospitais/{hospital_id}/pacientes
    * 8 - (400) PUT:/v1/hospitais/{hospital_id}
    * Found 7 potential faults. Type-codes: 100, 101
    */
    @Test @Timeout(60)
    public void test_55_putOnHospitaiShowsFaults_100_101() throws Exception {
        List<MongoInsertionDto> insertions = mongo().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"KgJCOzUAIGrk2\", \"name\":\"CltA0Rgmy\", \"address\":\"iO6Y9gpQu4vEWi\", \"beds\":{\"$numberInt\":\"182\"}, \"availableBeds\":{\"$numberInt\":\"259\"}, \"location\":{\"id\":\"_EM_6282_XYZ_\", \"name\":\"deyWqE8y\", \"referenceId\":\"vowg\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.37951749943\"}, {\"$numberDouble\":\"483859.72685091425\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"eCpQ\", \"name\":\"ue\", \"cpf\":\"vJHIxLNPbQy_J2\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3909186000000\"}}, \"gender\":\"Enx7x2OqsawCw\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1268074800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2393467200000\"}}, \"active\":true, \"location\":{\"id\":\"5\", \"name\":\"\", \"referenceId\":\"pps\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5947515389001622\"}, {\"$numberDouble\":\"0.7443097670077193\"}], \"type\":\"Point\"}}}, {\"id\":\"SYX6f0_gS1KQN2s\", \"name\":\"aLNo2jHwxL5ni\", \"cpf\":\"nY2e3z\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-2050945200000\"}}, \"gender\":\"xxJTOH\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3978910800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2586747600000\"}}, \"active\":false, \"location\":{\"id\":\"FSqvVFhl\", \"name\":\"0A62o4UUu\", \"referenceId\":\"ki3kqvCmR8j\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.17958780133581953\"}, {\"$numberDouble\":\"0.6630382327295755\"}], \"type\":\"Point\"}}}, {\"id\":\"U5TXM9u5a4Eq\", \"name\":\"T0Ac3huPQ\", \"cpf\":\"K6pGZAt\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2403579600000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3600046800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2141528400000\"}}, \"active\":true, \"location\":{\"id\":\"raIgJeIJjPsf\", \"name\":\"J\", \"referenceId\":\"XLpS\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.44788761610872263\"}, {\"$numberDouble\":\"0.13476312558015946\"}], \"type\":\"Point\"}}}, {\"id\":\"TpsZWeHu_10\", \"name\":\"\", \"cpf\":\"\", \"birthDate\":{\"$date\":{\"$numberLong\":\"960609600000\"}}, \"gender\":\"ZwqRq\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3821317200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"123397200000\"}}, \"active\":false, \"location\":{\"id\":\"CRrtbh8fA01D\", \"name\":\"ZhAtkPN\", \"referenceId\":\"5PKdMr\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.39759665884612905\"}, {\"$numberDouble\":\"0.5503308308388585\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"956\"}, \"machineIdentifier\":{\"$numberInt\":\"168\"}, \"processIdentifier\":{\"$numberInt\":\"100\"}, \"counter\":{\"$numberInt\":\"445\"}}, \"name\":\"n1U6k1\", \"description\":\"hX1Qx6ZTa5bl\", \"quantity\":{\"$numberInt\":\"814\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"828\"}, \"machineIdentifier\":{\"$numberInt\":\"86\"}, \"processIdentifier\":{\"$numberInt\":\"802\"}, \"counter\":{\"$numberInt\":\"923023864\"}}, \"name\":\"miKrlf\", \"description\":\"iElPN43uPXfcQFLA\", \"quantity\":{\"$numberInt\":\"802884707\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"684\"}, \"machineIdentifier\":{\"$numberInt\":\"317\"}, \"processIdentifier\":{\"$numberInt\":\"820\"}, \"counter\":{\"$numberInt\":\"903\"}}, \"name\":\"jm4ESvF\", \"description\":\"q2sqEkx1V41eu\", \"quantity\":{\"$numberInt\":\"331\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"3ccccf1b80b0be88f530db32\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"_EM_6271_XYZ_\", \"name\":\"_1fiQG74N\", \"address\":\"C\", \"beds\":{\"$numberInt\":\"-130453\"}, \"availableBeds\":{\"$numberInt\":\"-4193869\"}, \"location\":{\"id\":\"Pr2Ft2lgKM\", \"name\":\"\", \"referenceId\":\"_EM_3819_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-41.636672892278526\"}, {\"$numberDouble\":\"2.242890681753062\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"W\", \"name\":\"zVzEjinpn4w7z@\", \"cpf\":\"_EM_6272_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1492545600000\"}}, \"gender\":\"_EM_6273_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1241899200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2271992400000\"}}, \"active\":false, \"location\":{\"id\":\"1ikT\", \"name\":\"Ul2\", \"referenceId\":\"N0R9Y3D8q3VR\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.23098717498815913\"}, {\"$numberDouble\":\"0.20553193588807483\"}], \"type\":\"Point\"}}}], \"products\":[], \"_id\":{\"$oid\":\"7e9c9b0ec932d8d8c72c867b\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"_EM_4083_XYZ_\", \"name\":\"_EM_6274_XYZ_\", \"address\":\"_EM_6275_XYZ_\", \"beds\":{\"$numberInt\":\"485\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"pwvO\", \"name\":\"YM9FKLxCarcBH\", \"referenceId\":\"_EM_6276_XYZ_\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.9430267114809038\"}, {\"$numberDouble\":\"0.0\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"N95Gxtj17vLmG\", \"name\":\"L4DCn8ahG9YzFd\", \"cpf\":\"ztwDZyb6v\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-2083863600000\"}}, \"gender\":\"N8\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1340654400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3947461200000\"}}, \"active\":false, \"location\":{\"id\":\"NubjuR9ROUy\", \"name\":\"Q3od7vSHrYRPs\", \"referenceId\":\"H\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.47494730297525667\"}, {\"$numberDouble\":\"0.2980395607486127\"}], \"type\":\"Point\"}}}, {\"id\":\"z9CSIOuFq\", \"name\":\"cj2\", \"cpf\":\"_59\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2148440400000\"}}, \"gender\":\"4gkXCVhu2ff7zqdI\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-524520000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3296606400000\"}}, \"active\":false, \"location\":{\"id\":\"_uPDA_Vz_wEw\", \"name\":\"0kLtEQnsQAt9dfQH\", \"referenceId\":\"3p\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.9180894516214159\"}, {\"$numberDouble\":\"0.05590151584745284\"}], \"type\":\"Point\"}}}, {\"id\":\"RjFSuvQLsj2\", \"name\":\"cJ\u0089xdE\", \"cpf\":\"XHU6Kh\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2257214400000\"}}, \"gender\":\"5bpC_c9GkHynSy\", \"entryDate\":{\"$date\":{\"$numberLong\":\"961128000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1886558400000\"}}, \"active\":false, \"location\":{\"id\":\"R\", \"name\":\"Li7xyddV\", \"referenceId\":\"_EM_3821_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-608.3188805773317\"}, {\"$numberDouble\":\"0.0\"}], \"type\":\"Point\"}}}, {\"id\":\"\", \"name\":\"hp\", \"cpf\":\"WfWquYbavkc\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1658376000000\"}}, \"gender\":\"xQLXet3Io\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1471406400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3494376000000\"}}, \"active\":true, \"location\":{\"id\":\"FjORex\", \"name\":\"7Es\", \"referenceId\":\"fMOBg07\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.23242065082967223\"}, {\"$numberDouble\":\"0.728905171732254\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"872\"}, \"machineIdentifier\":{\"$numberInt\":\"231\"}, \"processIdentifier\":{\"$numberInt\":\"468\"}, \"counter\":{\"$numberInt\":\"177\"}}, \"name\":\"_d3nf4T7HIzqA\", \"description\":\"\", \"quantity\":{\"$numberInt\":\"729\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"991\"}, \"machineIdentifier\":{\"$numberInt\":\"942425397\"}, \"processIdentifier\":{\"$numberInt\":\"48\"}, \"counter\":{\"$numberInt\":\"87\"}}, \"name\":\"r8\", \"description\":\"8P_0D8\", \"quantity\":{\"$numberInt\":\"332\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"684\"}, \"machineIdentifier\":{\"$numberInt\":\"228\"}, \"processIdentifier\":{\"$numberInt\":\"141\"}, \"counter\":{\"$numberInt\":\"89\"}}, \"name\":\"x\", \"description\":\"yVXrxuoAZQl7\", \"quantity\":{\"$numberInt\":\"59\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"95\"}, \"machineIdentifier\":{\"$numberInt\":\"522\"}, \"processIdentifier\":{\"$numberInt\":\"761\"}, \"counter\":{\"$numberInt\":\"854\"}}, \"name\":\"_EM_4085_XYZ_\", \"description\":\"B5zNKtY\", \"quantity\":{\"$numberInt\":\"712\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"f6bb632406b1bc6babea8096\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"UMY12Ol6oTd\", \"name\":\"44UUXUciUUoUL\", \"address\":\"\", \"beds\":{\"$numberInt\":\"119\"}, \"availableBeds\":{\"$numberInt\":\"536\"}, \"location\":{\"id\":\"_EM_6283_XYZ_\", \"name\":\"Kw\", \"referenceId\":\"1lDwaFHxETWEFOde\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.22245415096611543\"}, {\"$numberDouble\":\"0.82303854692236\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"x2JhuPvn0sKEElg0\", \"name\":\"yd9J9jiOq4\", \"cpf\":\"GYtY\", \"birthDate\":{\"$date\":{\"$numberLong\":\"4093041600000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1422990000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1767762000000\"}}, \"active\":false, \"location\":{\"id\":\"3xa1oMWhuaAARfp\", \"name\":\"05knJ8zduKIbg865\", \"referenceId\":\"Ew\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7988980674645282\"}, {\"$numberDouble\":\"0.938321908464401\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"504\"}, \"machineIdentifier\":{\"$numberInt\":\"31\"}, \"processIdentifier\":{\"$numberInt\":\"141\"}, \"counter\":{\"$numberInt\":\"959\"}}, \"name\":\"bWkfGl0\", \"description\":\"k5slD8K\", \"quantity\":{\"$numberInt\":\"828\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"871\"}, \"machineIdentifier\":{\"$numberInt\":\"209\"}, \"processIdentifier\":{\"$numberInt\":\"720\"}, \"counter\":{\"$numberInt\":\"383\"}}, \"name\":\"\", \"description\":\"NJyfGlhLMwHa\", \"quantity\":{\"$numberInt\":\"97\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"255\"}, \"machineIdentifier\":{\"$numberInt\":\"629\"}, \"processIdentifier\":{\"$numberInt\":\"585\"}, \"counter\":{\"$numberInt\":\"494\"}}, \"name\":\"jy3\", \"description\":\"HJ6Ddl\", \"quantity\":{\"$numberInt\":\"551\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"571\"}, \"machineIdentifier\":{\"$numberInt\":\"435\"}, \"processIdentifier\":{\"$numberInt\":\"686\"}, \"counter\":{\"$numberInt\":\"584\"}}, \"name\":\"xVp6cz\", \"description\":\"FUzhaWJ\", \"quantity\":{\"$numberInt\":\"634\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"2bbb103548f2b05d0c8cfabf\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"UUN_U2U7[XYZ_\", \"name\":\"Klj\", \"address\":\"WU0DbUU\", \"beds\":{\"$numberInt\":\"171\"}, \"availableBeds\":{\"$numberInt\":\"945\"}, \"location\":{\"id\":\"UAZ9IGOb\", \"name\":\"7aUj\", \"referenceId\":\"cLpoBde7Umnwt\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.3642453979506082\"}, {\"$numberDouble\":\"0.5247306005752848\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"x\", \"name\":\"ejrDUnA6BfW\", \"cpf\":\"5ljTpqOIt\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-976820400000\"}}, \"gender\":\"SwXfnEy\", \"entryDate\":{\"$date\":{\"$numberLong\":\"888987600000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2644632000000\"}}, \"active\":false, \"location\":{\"id\":\"Bm8r31sKQpI\", \"name\":\"H7zHWYk\", \"referenceId\":\"H3naeHif4hC\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.2570555668043937\"}, {\"$numberDouble\":\"0.10415955543129929\"}], \"type\":\"Point\"}}}, {\"id\":\"Ulu5bh9FqYoyq1\", \"name\":\"Zznp0Hv5\", \"cpf\":\"VDE\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1249243200000\"}}, \"gender\":\"kaFeVIKWSN6DaZV\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2179076400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2934248400000\"}}, \"active\":true, \"location\":{\"id\":\"vQ\", \"name\":\"_EM_6278_XYZ_\", \"referenceId\":\"_EM_6279_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7883283811129179\"}, {\"$numberDouble\":\"0.812361518010814\"}], \"type\":\"Point\"}}}, {\"id\":\"dnnGRAz5yU\", \"name\":\"2JyDccw1SFm1Rj\", \"cpf\":\"kyEiyo\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-86036400000\"}}, \"gender\":\"plkYSX9mFwVu\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1996772400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-2145294000000\"}}, \"active\":true, \"location\":{\"id\":\"kUnqp\", \"name\":\"\", \"referenceId\":\"eoXm6fKkIzf\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.9180841234415513\"}, {\"$numberDouble\":\"0.8605257849315029\"}], \"type\":\"Point\"}}}, {\"id\":\"7y0HdlQQBzjg3kB0\", \"name\":\"mAtb56iqWJ0LyFd\", \"cpf\":\"xxcDkY1aI4xLj\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-975610800000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"4066866000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-2083863600000\"}}, \"active\":false, \"location\":{\"id\":\"kyTGP\", \"name\":\"k85PFDqIdBimeol\", \"referenceId\":\"1RP\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.654554385920883\"}, {\"$numberDouble\":\"0.7138669305765155\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"262\"}, \"machineIdentifier\":{\"$numberInt\":\"131\"}, \"processIdentifier\":{\"$numberInt\":\"788\"}, \"counter\":{\"$numberInt\":\"654\"}}, \"name\":\"eK\", \"description\":\"sj\", \"quantity\":{\"$numberInt\":\"562\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"621\"}, \"machineIdentifier\":{\"$numberInt\":\"577\"}, \"processIdentifier\":{\"$numberInt\":\"336\"}, \"counter\":{\"$numberInt\":\"740\"}}, \"name\":\"wfje0hYWH\", \"description\":\"hba\", \"quantity\":{\"$numberInt\":\"665\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"534\"}, \"machineIdentifier\":{\"$numberInt\":\"380\"}, \"processIdentifier\":{\"$numberInt\":\"932\"}, \"counter\":{\"$numberInt\":\"60\"}}, \"name\":\"Kant885\", \"description\":\"h9F4mpeFkiojTo6\", \"quantity\":{\"$numberInt\":\"81\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"28\"}, \"machineIdentifier\":{\"$numberInt\":\"852\"}, \"processIdentifier\":{\"$numberInt\":\"920\"}, \"counter\":{\"$numberInt\":\"0\"}}, \"name\":\"K\", \"description\":\"STU5FN5el9cQW\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"b24ba7bced4967f6f7fa0d0a\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"_EM_6284_XYZ_\", \"name\":\"7OYrqoto\", \"address\":\"kzkoj\", \"beds\":{\"$numberInt\":\"131413\"}, \"availableBeds\":{\"$numberInt\":\"-1873742210\"}, \"location\":{\"id\":\"tntUydD2e\", \"name\":\"SYW4\", \"referenceId\":\"a\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.779001425021289\"}, {\"$numberDouble\":\"0.72588593\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"OndgJHF0T_V\", \"name\":\"plh5nQW\", \"cpf\":\"gS92YtyL\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-418680000000\"}}, \"gender\":\"jVmfVIoryj\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1579582800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2863483200000\"}}, \"active\":true, \"location\":{\"id\":\"xtIt\", \"name\":\"6o\", \"referenceId\":\"igGzZ2mR\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.29726640606246313\"}, {\"$numberDouble\":\"0.5558690225228912\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"106\"}, \"machineIdentifier\":{\"$numberInt\":\"782\"}, \"processIdentifier\":{\"$numberInt\":\"452\"}, \"counter\":{\"$numberInt\":\"444\"}}, \"name\":\"8s7YsMuAx6jjtM\", \"description\":\"M\", \"quantity\":{\"$numberInt\":\"168\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"495\"}, \"machineIdentifier\":{\"$numberInt\":\"593\"}, \"processIdentifier\":{\"$numberInt\":\"325\"}, \"counter\":{\"$numberInt\":\"673\"}}, \"name\":\"Fu5rHZxMN2\", \"description\":\"rdDYfuvlJcb\", \"quantity\":{\"$numberInt\":\"170\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"760\"}, \"machineIdentifier\":{\"$numberInt\":\"147\"}, \"processIdentifier\":{\"$numberInt\":\"213\"}, \"counter\":{\"$numberInt\":\"613\"}}, \"name\":\"DTY\", \"description\":\"i\", \"quantity\":{\"$numberInt\":\"578\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"384\"}, \"machineIdentifier\":{\"$numberInt\":\"465\"}, \"processIdentifier\":{\"$numberInt\":\"839\"}, \"counter\":{\"$numberInt\":\"588\"}}, \"name\":\"LQq4DT53WFr\", \"description\":\"MJbFx_5TrDCPzX\", \"quantity\":{\"$numberInt\":\"-65059\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"183a4ee76dabcffe2ed61ace\"}}")
            .and().insertInto("HospitalDB", "location_collection")
                .d("{\"id\":\"V{Ml\", \"name\":\"KJ\", \"referenceId\":\"Q_IMWD4WG\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.6320649986194562\"}, {\"$numberDouble\":\"0.2577068443107934\"}], \"type\":\"Point\"}, \"_id\":{\"$oid\":\"6f2fe8fc538bf26ead34ac11\"}}")
            .dtos();
        MongoInsertionResultsDto insertionsresult = controller.execInsertionsIntoMongoDatabase(insertions);
        
        // Fault100. HTTP Status 500. br/com/codenation/hospital/services/LocationService_109_findHospitalNearLocationBy.
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 500 not defined for path '/v1/hospitais/maisProximo'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/maisProximo?" + 
                    "lat=0.0&" + 
                    "lon=0.0&" + 
                    "raioMaximo=2.6742172975549243")
                .then()
                .statusCode(500)// br/com/codenation/hospital/services/LocationService_109_findHospitalNearLocationBy
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(500.0))
                .body("'error'", containsString("Internal Server Error"))
                .body("'path'", containsString("/v1/hospitais/maisProximo"));
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" _EM_2316_XYZ_ ")
                .post(baseUrlOfSut + "/v1/hospitais/_EM_6280_XYZ_/pacientes/checkout")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{id}/leitos'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/f6bb632406a1bc6babea8096/leitos")
                .then()
                .statusCode(400)
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(400.0))
                .body("'error'", containsString("Bad Request"))
                .body("'message'", containsString("Hospital não encontrado! ID:f6bb632406a1bc6babea8096"))
                .body("'path'", containsString("/v1/hospitais/f6bb632406a1bc6babea8096/leitos"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{id}/transferencia/{productId}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" 373 ")
                .post(baseUrlOfSut + "/v1/hospitais/UtiBlky2/transferencia/_EM_4087_XYZ_")
                .then()
                .statusCode(400)
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(400.0))
                .body("'error'", containsString("Bad Request"))
                .body("'message'", containsString("Hospital não encontrado! ID:UtiBlky2"))
                .body("'path'", containsString("/v1/hospitais/UtiBlky2/transferencia/_EM_4087_XYZ_"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"beds\": 16777422, " + 
                    " \"latitude\": \"_EM_3823_XYZ_\", " + 
                    " \"longitude\": \"_EM_2319_XYZ_\" " + 
                    " } ")
                .post(baseUrlOfSut + "/v1/hospitais/")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/proximidades'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/f6bb632406a1bc6babea8096/proximidades")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/68b8dfa13570834ab9ade0ae/pacientes")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"beds\": 168, " + 
                    " \"latitude\": \"hotRXSag\" " + 
                    " } ")
                .put(baseUrlOfSut + "/v1/hospitais/UkQ")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
    }
}

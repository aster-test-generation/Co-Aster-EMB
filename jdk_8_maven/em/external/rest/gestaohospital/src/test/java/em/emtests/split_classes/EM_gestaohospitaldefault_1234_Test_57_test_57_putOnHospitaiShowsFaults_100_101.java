package em.emtests.split_classes;
/**
* LICENSE DISCLAIMER
* This file has been generated by EvoMaster.
* The content of this file is not subject to the license of EvoMaster itself, i.e., LGPL.
* This generated software (i.e., the test suite in this file) can be freely used, modified, 
* and distributed as you see fit without any restrictions.
*/
import  org.junit.jupiter.api.AfterAll;
import  org.junit.jupiter.api.BeforeAll;
import  org.junit.jupiter.api.BeforeEach;
import  org.junit.jupiter.api.Test;
import  org.junit.jupiter.api.Timeout;
import static org.junit.jupiter.api.Assertions.*;
import  java.util.Map;
import  java.util.Arrays;
import  java.util.List;
import static org.evomaster.test.utils.EMTestUtils.*;
import  org.evomaster.client.java.controller.SutHandler;
import  io.restassured.RestAssured;
import static io.restassured.RestAssured.given;
import  io.restassured.response.ValidatableResponse;
import static org.evomaster.client.java.controller.mongo.dsl.MongoDsl.mongo;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionResultsDto;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionDto;
import static org.hamcrest.Matchers.*;
import  io.restassured.config.JsonConfig;
import  io.restassured.path.json.config.JsonPathConfig;
import static io.restassured.config.RedirectConfig.redirectConfig;
import static org.evomaster.client.java.controller.contentMatchers.NumberMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.StringMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.SubStringMatcher.*;




/**
*  This file was automatically generated by EvoMaster on 2025-09-03T21:43:27.165-04:00[America/New_York]
 * <br>
*  The generated test suite contains 408 tests
 * <br>
*  Covered targets: 2217
 * <br>
*  Used time: 1h 5m 2s
 * <br>
*  Needed budget for current results: 99%
 * <br>
*  
*/

public class EM_gestaohospitaldefault_1234_Test_57_test_57_putOnHospitaiShowsFaults_100_101 {
    

    
    private static final SutHandler controller = new em.external.br.com.codenation.hospital.ExternalEvoMasterController("/home/rhuang329/coaster/EMB/exp2/gestaohospital-sut.jar");
    private static String baseUrlOfSut;

    @BeforeAll
    public static void initClass() {
        controller.setupForGeneratedTest();
        baseUrlOfSut = controller.startSut();
        controller.registerOrExecuteInitSqlCommandsIfNeeded();
        assertNotNull(baseUrlOfSut);
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
        RestAssured.useRelaxedHTTPSValidation();
        RestAssured.urlEncodingEnabled = false;
        RestAssured.config = RestAssured.config()
            .jsonConfig(JsonConfig.jsonConfig().numberReturnType(JsonPathConfig.NumberReturnType.DOUBLE))
            .redirect(redirectConfig().followRedirects(false));
    }

    @AfterAll
    public static void tearDown() {
        controller.stopSut();
    }

    @BeforeEach
    public void initTest() {
        controller.resetStateOfSUT();
    }

    /**
    * Calls:
    * 1 - (500) GET:/v1/hospitais/maisProximo
    * 2 - (404) POST:/v1/hospitais/{hospital_id}/pacientes/checkout
    * 3 - (400) GET:/v1/hospitais/{id}/leitos
    * 4 - (400) POST:/v1/hospitais/{id}/transferencia/{productId}
    * 5 - (400) POST:/v1/hospitais/
    * 6 - (400) GET:/v1/hospitais/{hospital_id}/proximidades
    * 7 - (404) GET:/v1/hospitais/{hospital_id}/pacientes
    * 8 - (400) PUT:/v1/hospitais/{hospital_id}
    * Found 7 potential faults. Type-codes: 100, 101
    */
    @Test @Timeout(60)
    public void test_57_putOnHospitaiShowsFaults_100_101() throws Exception {
        List<MongoInsertionDto> insertions = mongo().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"_EM_6991_XYZ_\", \"name\":\"7AE_Wv\", \"address\":\"_EMUU319UWYZ_\", \"beds\":{\"$numberInt\":\"0\"}, \"availableBeds\":{\"$numberInt\":\"-253\"}, \"location\":{\"id\":\"jqU5LhsUUUIs\", \"name\":\"UeyWqUU\", \"referenceId\":\"UUMU6UUU_UYZU\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.0\"}, {\"$numberDouble\":\"-0.25327774603380904\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"eCpQ\", \"name\":\"ue\", \"cpf\":\"vJHIxLNPbQy_J2\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3909186000000\"}}, \"gender\":\"Enx7x2OqsawCw\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1268074800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2393467200000\"}}, \"active\":true, \"location\":{\"id\":\"5\", \"name\":\"\", \"referenceId\":\"pps\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5947515389001622\"}, {\"$numberDouble\":\"0.7443097670077193\"}], \"type\":\"Point\"}}}, {\"id\":\"SYX6f0_gS1KQN2s\", \"name\":\"aLNo2jHwxL5ni\", \"cpf\":\"nY2e3z\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-2049562800000\"}}, \"gender\":\"xxJTOH\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3978910800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2332904400000\"}}, \"active\":true, \"location\":{\"id\":\"FSqvVFhl\", \"name\":\"0A62o4UUu\", \"referenceId\":\"ki3kqvCmR8j\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.17958780133581953\"}, {\"$numberDouble\":\"0.6630382327295755\"}], \"type\":\"Point\"}}}, {\"id\":\"U5TXM9u5a4Eq\", \"name\":\"T0Ac3huPQ\", \"cpf\":\"K6pGZAt\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2403579600000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3600046800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2141528400000\"}}, \"active\":true, \"location\":{\"id\":\"raIgJeIJjPsf\", \"name\":\"J\", \"referenceId\":\"XLpS\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.44788761610872263\"}, {\"$numberDouble\":\"0.13476312558015946\"}], \"type\":\"Point\"}}}, {\"id\":\"TpsZWeHu_10\", \"name\":\"\", \"cpf\":\"\", \"birthDate\":{\"$date\":{\"$numberLong\":\"960609600000\"}}, \"gender\":\"ZwqRq\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3821317200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"123397200000\"}}, \"active\":false, \"location\":{\"id\":\"CRrtbh8fA01D\", \"name\":\"ZhAtkPN\", \"referenceId\":\"5PKdMr\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.39759665884612905\"}, {\"$numberDouble\":\"0.5503308308388585\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"956\"}, \"machineIdentifier\":{\"$numberInt\":\"168\"}, \"processIdentifier\":{\"$numberInt\":\"100\"}, \"counter\":{\"$numberInt\":\"445\"}}, \"name\":\"n5U6k1m\", \"description\":\"hX1Qx6ZTa5bl\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"828\"}, \"machineIdentifier\":{\"$numberInt\":\"86\"}, \"processIdentifier\":{\"$numberInt\":\"802\"}, \"counter\":{\"$numberInt\":\"923023864\"}}, \"name\":\"miKrlf\", \"description\":\"iElPN43uPXfcQFLA\", \"quantity\":{\"$numberInt\":\"802884707\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"684\"}, \"machineIdentifier\":{\"$numberInt\":\"317\"}, \"processIdentifier\":{\"$numberInt\":\"820\"}, \"counter\":{\"$numberInt\":\"903\"}}, \"name\":\"jm4ESvF\", \"description\":\"q2sqEkx1V41eu\", \"quantity\":{\"$numberInt\":\"331\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"3ccccf1b80b0be88f530db32\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"rj2Nv8xt2Zp\", \"name\":\"W1fiQG74N\", \"address\":\"C\", \"beds\":{\"$numberInt\":\"0\"}, \"availableBeds\":{\"$numberInt\":\"435\"}, \"location\":{\"id\":\"Pr2Ft2lgKMN\", \"name\":\"\", \"referenceId\":\"_EM_3819_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.4387920784755074\"}, {\"$numberDouble\":\"0.8840991967740897\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"W\", \"name\":\"zVzEjinpn4w7zB\", \"cpf\":\"_EM_4082_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1492891200000\"}}, \"gender\":\"FXJN\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1241899200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2271992400000\"}}, \"active\":false, \"location\":{\"id\":\"1ikT\", \"name\":\"Ul2\", \"referenceId\":\"N0R9Y3D8q3VR\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.23098717498815913\"}, {\"$numberDouble\":\"0.20553193588807483\"}], \"type\":\"Point\"}}}], \"products\":[], \"_id\":{\"$oid\":\"7e9c9b0ec932d7d8c72c867b\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"f]U\", \"name\":\"Ulq.UU\", \"address\":\"nZfxGA\", \"beds\":{\"$numberInt\":\"4705\"}, \"availableBeds\":{\"$numberInt\":\"13076\"}, \"location\":{\"id\":\"pwvO\", \"name\":\"YM9FKLxCarcBH\", \"referenceId\":\"3rHeVYD\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.9430267114809038\"}, {\"$numberDouble\":\"0.0\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"F95Gxtj17vLmG\", \"name\":\"L4DCn28ahG9YzFd\", \"cpf\":\"ztw<Zyb6v\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-2083863600000\"}}, \"gender\":\"N\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1340654400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3947374800000\"}}, \"active\":false, \"location\":{\"id\":\"NubjuR9ROUy\", \"name\":\"Q3od7vSHrYRPs\", \"referenceId\":\"H\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.47494730297525667\"}, {\"$numberDouble\":\"0.2980395607486127\"}], \"type\":\"Point\"}}}, {\"id\":\"z9CSIOuFq\", \"name\":\"cj2\", \"cpf\":\"_5\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2148440400000\"}}, \"gender\":\"4gkXCVhu2ff7zqdI\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-524520000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-740174400000\"}}, \"active\":false, \"location\":{\"id\":\"_uPDA_Vz_wEw\", \"name\":\"0kLtEQnsQAt9dfQH\", \"referenceId\":\"2p\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.9180894516214159\"}, {\"$numberDouble\":\"0.05590151584745284\"}], \"type\":\"Point\"}}}, {\"id\":\"RjFSuvQLsj2\", \"name\":\"cJ\u0089xdM\", \"cpf\":\"XHU6Kh\", \"birthDate\":{\"$date\":{\"$numberLong\":\"4104795600000\"}}, \"gender\":\"5bpC_c9GkHynSy\", \"entryDate\":{\"$date\":{\"$numberLong\":\"884926800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2901675600000\"}}, \"active\":false, \"location\":{\"id\":\"R\", \"name\":\"Li7xyddV\", \"referenceId\":\"_EM_3821_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-608.3188805773317\"}, {\"$numberDouble\":\"0.0\"}], \"type\":\"Point\"}}}, {\"id\":\"_EM_7044_XYZ_\", \"name\":\"hp\", \"cpf\":\"WfWquYbavkc\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1658376000000\"}}, \"gender\":\"xQLXet4Io\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1471406400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3494376000000\"}}, \"active\":false, \"location\":{\"id\":\"FjORex\", \"name\":\"6Es\", \"referenceId\":\"fMOBg07\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.232421\"}, {\"$numberDouble\":\"0.728905171732254\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"872\"}, \"machineIdentifier\":{\"$numberInt\":\"231\"}, \"processIdentifier\":{\"$numberInt\":\"468\"}, \"counter\":{\"$numberInt\":\"177\"}}, \"name\":\"_d3nf4T7HIzqA\", \"description\":\"x\", \"quantity\":{\"$numberInt\":\"-4193575\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"991\"}, \"machineIdentifier\":{\"$numberInt\":\"942425397\"}, \"processIdentifier\":{\"$numberInt\":\"48\"}, \"counter\":{\"$numberInt\":\"87\"}}, \"name\":\"r8\", \"description\":\"8P_0D8\", \"quantity\":{\"$numberInt\":\"332\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"676\"}, \"machineIdentifier\":{\"$numberInt\":\"228\"}, \"processIdentifier\":{\"$numberInt\":\"4237\"}, \"counter\":{\"$numberInt\":\"-935\"}}, \"name\":\"x\", \"description\":\"_EM_6321_XYZ_\", \"quantity\":{\"$numberInt\":\"59\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"607\"}, \"machineIdentifier\":{\"$numberInt\":\"-130550\"}, \"processIdentifier\":{\"$numberInt\":\"8953\"}, \"counter\":{\"$numberInt\":\"854\"}}, \"name\":\"_EM_4085_XYZ_\", \"description\":\"A5zNKtY\", \"quantity\":{\"$numberInt\":\"711\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"f6cb533506a1cb6babea8196\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"SMU12OlUoUd\", \"name\":\"64gNXNckepn9L\", \"address\":\"2\", \"beds\":{\"$numberInt\":\"119\"}, \"availableBeds\":{\"$numberInt\":\"536\"}, \"location\":{\"id\":\"DRRG_eLS\", \"name\":\"K\", \"referenceId\":\"1lDwaFHxETWEFOd\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.22245415096611543\"}, {\"$numberDouble\":\"0.82303854692236\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"x2JhuPvn0sKEElg0\", \"name\":\"yd9J9kiOq4\", \"cpf\":\"GYtY\", \"birthDate\":{\"$date\":{\"$numberLong\":\"4093041600000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1422990000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1767762000000\"}}, \"active\":false, \"location\":{\"id\":\"3xa1oMWhuaAARfp\", \"name\":\"05knJ8zduKIjg865\", \"referenceId\":\"Ew\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-1.2971464075063884E7\"}, {\"$numberDouble\":\"0.938321908464401\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"504\"}, \"machineIdentifier\":{\"$numberInt\":\"31\"}, \"processIdentifier\":{\"$numberInt\":\"141\"}, \"counter\":{\"$numberInt\":\"959\"}}, \"name\":\"bWkfGl0\", \"description\":\"k5slD8K\", \"quantity\":{\"$numberInt\":\"828\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"871\"}, \"machineIdentifier\":{\"$numberInt\":\"209\"}, \"processIdentifier\":{\"$numberInt\":\"720\"}, \"counter\":{\"$numberInt\":\"383\"}}, \"name\":\"\", \"description\":\"NJyfGlhLMwHa\", \"quantity\":{\"$numberInt\":\"97\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"-7937\"}, \"machineIdentifier\":{\"$numberInt\":\"2097781\"}, \"processIdentifier\":{\"$numberInt\":\"585\"}, \"counter\":{\"$numberInt\":\"494\"}}, \"name\":\"jy3\", \"description\":\"HJ6Ddl\", \"quantity\":{\"$numberInt\":\"551\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"571\"}, \"machineIdentifier\":{\"$numberInt\":\"435\"}, \"processIdentifier\":{\"$numberInt\":\"686\"}, \"counter\":{\"$numberInt\":\"584\"}}, \"name\":\"xVp6cz\", \"description\":\"FUzhaWJ\", \"quantity\":{\"$numberInt\":\"634\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"2bbb103547f2b05d0c8cfabf\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"p1u87VaxKDku3BeB\", \"name\":\"BlU\", \"address\":\"_EM_7045_XYZ_\", \"beds\":{\"$numberInt\":\"685\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"UAZ9IGOb\", \"name\":\"7akj\", \"referenceId\":\"ULpoBdg3UUUUt\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.0\"}, {\"$numberDouble\":\"0.5247306005752848\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"x\", \"name\":\"_EM_6992_XYZ_\", \"cpf\":\"5ljTpqOI\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-976820400000\"}}, \"gender\":\"SwXfnEy\", \"entryDate\":{\"$date\":{\"$numberLong\":\"888987600000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2644632000000\"}}, \"active\":false, \"location\":{\"id\":\"Bm8r31sKQpI\", \"name\":\"H7zHWYk\", \"referenceId\":\"H3naeHif4hC\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.2570555668043937\"}, {\"$numberDouble\":\"0.10415955543129929\"}], \"type\":\"Point\"}}}, {\"id\":\"Ulu5bh9FqYoyq1\", \"name\":\"Zznp0Hu5\", \"cpf\":\"VD<\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1238007600000\"}}, \"gender\":\"kaFeVIKWSN6DaZV\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2192209200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2934248400000\"}}, \"active\":true, \"location\":{\"id\":\"vQ\", \"name\":\"To\", \"referenceId\":\"OStkqhfO7ls7CLqc\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7883283811129179\"}, {\"$numberDouble\":\"0.9284225870450352\"}], \"type\":\"Point\"}}}, {\"id\":\"dnnGRAz5yU\", \"name\":\"_EM_6322_XYZ_\", \"cpf\":\"kyEiyo\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-86036400000\"}}, \"gender\":\"plkYSX9mFwVu\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1996772400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-2145294000000\"}}, \"active\":true, \"location\":{\"id\":\"kUnqp\", \"name\":\"\", \"referenceId\":\"eoXm6fKkIzf\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.9180841234415513\"}, {\"$numberDouble\":\"0.8605257849315029\"}], \"type\":\"Point\"}}}, {\"id\":\"7y0HdlQQBzjg3kB0\", \"name\":\"mAtb56iqWJ0LyFd\", \"cpf\":\"xxcDkY1aI4xLj\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-975610800000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"4066866000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-2083863600000\"}}, \"active\":false, \"location\":{\"id\":\"kyTGP\", \"name\":\"k85PFDqIdBimeol\", \"referenceId\":\"1RP\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.654554385920883\"}, {\"$numberDouble\":\"0.7138669305765155\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"262\"}, \"machineIdentifier\":{\"$numberInt\":\"131\"}, \"processIdentifier\":{\"$numberInt\":\"788\"}, \"counter\":{\"$numberInt\":\"654\"}}, \"name\":\"eK\", \"description\":\"sj\", \"quantity\":{\"$numberInt\":\"562\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"621\"}, \"machineIdentifier\":{\"$numberInt\":\"577\"}, \"processIdentifier\":{\"$numberInt\":\"336\"}, \"counter\":{\"$numberInt\":\"740\"}}, \"name\":\"wfje0hYWH\", \"description\":\"bWkfGl0\", \"quantity\":{\"$numberInt\":\"665\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"534\"}, \"machineIdentifier\":{\"$numberInt\":\"380\"}, \"processIdentifier\":{\"$numberInt\":\"900\"}, \"counter\":{\"$numberInt\":\"131132\"}}, \"name\":\"Kant885\", \"description\":\"h9F4mpeFkiojTo69\", \"quantity\":{\"$numberInt\":\"2097233\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"b24cb7cddd3a68e6f7fa1d0a\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"yUiv\", \"name\":\"7OWrqoto\", \"address\":\"kzuoj\", \"beds\":{\"$numberInt\":\"1365\"}, \"availableBeds\":{\"$numberInt\":\"-1874266498\"}, \"location\":{\"id\":\"tntUydD2e\", \"name\":\"SYW4\", \"referenceId\":\"a\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.779001425021289\"}, {\"$numberDouble\":\"0.7258859330285893\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"OndgJHF0T_V\", \"name\":\"plh5nQW\", \"cpf\":\"gS92YtyL\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-418680000000\"}}, \"gender\":\"jVmfVIoryj\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1579582800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2863483200000\"}}, \"active\":true, \"location\":{\"id\":\"xtIt\", \"name\":\"6o\", \"referenceId\":\"igGzZ2mR\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.29726640606246313\"}, {\"$numberDouble\":\"0.5558690225228912\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"106\"}, \"machineIdentifier\":{\"$numberInt\":\"782\"}, \"processIdentifier\":{\"$numberInt\":\"452\"}, \"counter\":{\"$numberInt\":\"444\"}}, \"name\":\"8s7YsMuAx6jjtM\", \"description\":\"M\", \"quantity\":{\"$numberInt\":\"168\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"495\"}, \"machineIdentifier\":{\"$numberInt\":\"-4193711\"}, \"processIdentifier\":{\"$numberInt\":\"325\"}, \"counter\":{\"$numberInt\":\"1697\"}}, \"name\":\"Fu5rHZxMN2\", \"description\":\"rdDYfuvlJcb\", \"quantity\":{\"$numberInt\":\"298\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"439\"}, \"machineIdentifier\":{\"$numberInt\":\"89\"}, \"processIdentifier\":{\"$numberInt\":\"955\"}, \"counter\":{\"$numberInt\":\"164\"}}, \"name\":\"4rIL_\", \"description\":\"PfkKEbQMIPeXLcDg\", \"quantity\":{\"$numberInt\":\"217\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"760\"}, \"machineIdentifier\":{\"$numberInt\":\"147\"}, \"processIdentifier\":{\"$numberInt\":\"213\"}, \"counter\":{\"$numberInt\":\"613\"}}, \"name\":\"DTY\", \"description\":\"i\", \"quantity\":{\"$numberInt\":\"578\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"384\"}, \"machineIdentifier\":{\"$numberInt\":\"465\"}, \"processIdentifier\":{\"$numberInt\":\"839\"}, \"counter\":{\"$numberInt\":\"588\"}}, \"name\":\"LQq4DT53WFr\", \"description\":\"MJbFx_5TrDCPzX\", \"quantity\":{\"$numberInt\":\"-65059\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"082a5de85cabbffe2fc70ade\"}}")
            .and().insertInto("HospitalDB", "location_collection")
                .d("{\"id\":\"VzM\", \"name\":\"OJ\", \"referenceId\":\"_EM_6993_XYZ_\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.63206499861946\"}, {\"$numberDouble\":\"0.2577068443107934\"}], \"type\":\"Point\"}, \"_id\":{\"$oid\":\"6f2fe8fc538bf26ead34ac11\"}}")
            .dtos();
        MongoInsertionResultsDto insertionsresult = controller.execInsertionsIntoMongoDatabase(insertions);
        
        // Fault100. HTTP Status 500. br/com/codenation/hospital/services/LocationService_109_findHospitalNearLocationBy.
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 500 not defined for path '/v1/hospitais/maisProximo'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/maisProximo?" + 
                    "lat=1.264476339610098&" + 
                    "lon=0.4479491447296835&" + 
                    "raioMaximo=0.7610084077274238")
                .then()
                .statusCode(500)// br/com/codenation/hospital/services/LocationService_109_findHospitalNearLocationBy
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(500.0))
                .body("'error'", containsString("Internal Server Error"))
                .body("'path'", containsString("/v1/hospitais/maisProximo"));
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" iFaD5iYuK1kkQLx1 ")
                .post(baseUrlOfSut + "/v1/hospitais/L5z05gGZz3ZEwH%5D0V/pacientes/checkout")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{id}/leitos'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/_EM_3822_XYZ_/leitos")
                .then()
                .statusCode(400)
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(400.0))
                .body("'error'", containsString("Bad Request"))
                .body("'message'", containsString("Hospital não encontrado! ID:_EM_3822_XYZ_"))
                .body("'path'", containsString("/v1/hospitais/_EM_3822_XYZ_/leitos"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{id}/transferencia/{productId}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" 0 ")
                .post(baseUrlOfSut + "/v1/hospitais/UtiBlky2/transferencia/_EM_4087_XYZ_")
                .then()
                .statusCode(400)
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(400.0))
                .body("'error'", containsString("Bad Request"))
                .body("'message'", containsString("Hospital não encontrado! ID:UtiBlky2"))
                .body("'path'", containsString("/v1/hospitais/UtiBlky2/transferencia/_EM_4087_XYZ_"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"address\": \"_EM_2318_XYZ_\", " + 
                    " \"beds\": 16777422, " + 
                    " \"id\": \"155\", " + 
                    " \"longitude\": \"_EM_2319_XYZ_\" " + 
                    " } ")
                .post(baseUrlOfSut + "/v1/hospitais/")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/proximidades'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/h15dvXd/proximidades")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/68b8dfa13570834ab9ade0a/pacientes")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"address\": \"ZO2\", " + 
                    " \"availableBeds\": 295, " + 
                    " \"beds\": 168, " + 
                    " \"latitude\": \"hotRXSag\" " + 
                    " } ")
                .put(baseUrlOfSut + "/v1/hospitais/_EM_6317_XYZ_q")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
    }
}

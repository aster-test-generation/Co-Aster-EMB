package em.emtests.split_classes;
/**
* LICENSE DISCLAIMER
* This file has been generated by EvoMaster.
* The content of this file is not subject to the license of EvoMaster itself, i.e., LGPL.
* This generated software (i.e., the test suite in this file) can be freely used, modified, 
* and distributed as you see fit without any restrictions.
*/
import  org.junit.jupiter.api.AfterAll;
import  org.junit.jupiter.api.BeforeAll;
import  org.junit.jupiter.api.BeforeEach;
import  org.junit.jupiter.api.Test;
import  org.junit.jupiter.api.Timeout;
import static org.junit.jupiter.api.Assertions.*;
import  java.util.Map;
import  java.util.Arrays;
import  java.util.List;
import static org.evomaster.test.utils.EMTestUtils.*;
import  org.evomaster.client.java.controller.SutHandler;
import  io.restassured.RestAssured;
import static io.restassured.RestAssured.given;
import  io.restassured.response.ValidatableResponse;
import static org.evomaster.client.java.controller.mongo.dsl.MongoDsl.mongo;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionResultsDto;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionDto;
import static org.hamcrest.Matchers.*;
import  io.restassured.config.JsonConfig;
import  io.restassured.path.json.config.JsonPathConfig;
import static io.restassured.config.RedirectConfig.redirectConfig;
import static org.evomaster.client.java.controller.contentMatchers.NumberMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.StringMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.SubStringMatcher.*;




/**
*  This file was automatically generated by EvoMaster on 2025-09-03T21:43:27.165-04:00[America/New_York]
 * <br>
*  The generated test suite contains 408 tests
 * <br>
*  Covered targets: 2217
 * <br>
*  Used time: 1h 5m 2s
 * <br>
*  Needed budget for current results: 99%
 * <br>
*  
*/

public class EM_gestaohospitaldefault_1234_Test_276_test_276_getOnHospitaisProximosShowsFaults_100_101 {
    

    
    private static final SutHandler controller = new em.external.br.com.codenation.hospital.ExternalEvoMasterController("/home/rhuang329/coaster/EMB/exp2/gestaohospital-sut.jar");
    private static String baseUrlOfSut;

    @BeforeAll
    public static void initClass() {
        controller.setupForGeneratedTest();
        baseUrlOfSut = controller.startSut();
        controller.registerOrExecuteInitSqlCommandsIfNeeded();
        assertNotNull(baseUrlOfSut);
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
        RestAssured.useRelaxedHTTPSValidation();
        RestAssured.urlEncodingEnabled = false;
        RestAssured.config = RestAssured.config()
            .jsonConfig(JsonConfig.jsonConfig().numberReturnType(JsonPathConfig.NumberReturnType.DOUBLE))
            .redirect(redirectConfig().followRedirects(false));
    }

    @AfterAll
    public static void tearDown() {
        controller.stopSut();
    }

    @BeforeEach
    public void initTest() {
        controller.resetStateOfSUT();
    }

    /**
    * Calls:
    * 1 - (404) POST:/v1/hospitais/{hospital_id}/pacientes/checkin
    * 2 - (400) GET:/v1/hospitais/{hospital_id}/proximidades
    * 3 - (500) GET:/v1/hospitais/maisProximo
    * 4 - (404) GET:/v1/hospitais/{hospital_id}/pacientes
    * 5 - (404) PUT:/v1/hospitais/{hospital_id}/pacientes/{patientId}
    * 6 - (400) POST:/v1/hospitais/{hospital_id}/estoque
    * 7 - (400) POST:/v1/hospitais/{id}/transferencia/{productId}
    * 8 - (400) GET:/v1/hospitais/{hospital_id}/hospitaisProximos
    * 9 - (400) GET:/v1/hospitais/{hospital_id}/hospitaisProximos
    * Found 7 potential faults. Type-codes: 100, 101
    */
    @Test @Timeout(60)
    public void test_276_getOnHospitaisProximosShowsFaults_100_101() throws Exception {
        List<MongoInsertionDto> insertions = mongo().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"_EM_9878_XYZ_\", \"name\":\"PQ\", \"address\":\"ARQw4IWjaTYLmlw\", \"beds\":{\"$numberInt\":\"84\"}, \"availableBeds\":{\"$numberInt\":\"8421799\"}, \"location\":{\"id\":\"kDSYgjGC2g\", \"name\":\"R;M\", \"referenceId\":\"4NMr5JDv2NgcBEA\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.76394665\"}, {\"$numberDouble\":\"1.331253946441139\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"RhgNAEMwxX\", \"name\":\"_EM_9879_XYZ_\", \"cpf\":\"_EM_9880_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-413146800000\"}}, \"gender\":\"nowx`Cv_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1649271600000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-1148587200000\"}}, \"active\":true, \"location\":{\"id\":\"2GX9Lx0iqTynv\", \"name\":\"Nm2WG7Wjyi7D4WK\", \"referenceId\":\"MM2xk9uccTbTf\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.973480458916972\"}, {\"$numberDouble\":\"0.6594071150355298\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"468\"}, \"machineIdentifier\":{\"$numberInt\":\"496\"}, \"processIdentifier\":{\"$numberInt\":\"32767\"}, \"counter\":{\"$numberInt\":\"279\"}}, \"name\":\"_EM_6587_XYZ_\", \"description\":\"nQBJDzCCcz7Pu\", \"quantity\":{\"$numberInt\":\"420\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"60e00285c6332cfb5073cc9f\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"C632GTul\", \"name\":\"ww\", \"address\":\"yu4VwmK\", \"beds\":{\"$numberInt\":\"-67107864\"}, \"availableBeds\":{\"$numberInt\":\"-857\"}, \"location\":{\"id\":\"R\", \"name\":\"_qzYRQkbxE\", \"referenceId\":\"aBjm_amzbZYoZUQ\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-5.818775460692143\"}, {\"$numberDouble\":\"0.6571129198446438\"}], \"type\":\"Point\"}}, \"patients\":[], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"804\"}, \"machineIdentifier\":{\"$numberInt\":\"343\"}, \"processIdentifier\":{\"$numberInt\":\"703\"}, \"counter\":{\"$numberInt\":\"511\"}}, \"name\":\"8M66\", \"description\":\"1ZE4FD1i\", \"quantity\":{\"$numberInt\":\"369\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"797\"}, \"machineIdentifier\":{\"$numberInt\":\"583\"}, \"processIdentifier\":{\"$numberInt\":\"852\"}, \"counter\":{\"$numberInt\":\"842\"}}, \"name\":\"\", \"description\":\"OReGGv87cT8\", \"quantity\":{\"$numberInt\":\"149\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"222\"}, \"machineIdentifier\":{\"$numberInt\":\"639\"}, \"processIdentifier\":{\"$numberInt\":\"424\"}, \"counter\":{\"$numberInt\":\"-2092245982\"}}, \"name\":\"_EM_2699_XYZ_\", \"description\":\"\", \"quantity\":{\"$numberInt\":\"-65471\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"0\"}, \"machineIdentifier\":{\"$numberInt\":\"0\"}, \"processIdentifier\":{\"$numberInt\":\"693\"}, \"counter\":{\"$numberInt\":\"-262128\"}}, \"name\":\"_EM_5794_XYZ_\", \"description\":\"K1bujvcufx\", \"quantity\":{\"$numberInt\":\"302\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"0e8177729e4bee0dbf4ded63\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"HFCoifi_JzN\", \"name\":\"A3u00\", \"address\":\"_EM_5407_XYZ_\", \"beds\":{\"$numberInt\":\"4195068\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"euCW_UUUv\", \"name\":\"YvGT\", \"referenceId\":\"04ie2\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.0\"}, {\"$numberDouble\":\"-5425.725005994118\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"Zn3niiyo\", \"name\":\"HMoUHeWeNUo\", \"cpf\":\"\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3833409600000\"}}, \"gender\":\"KItB9C\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3293496000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-1531166400000\"}}, \"active\":false, \"location\":{\"id\":\"52B946tWUTC9ZrPS\", \"name\":\"\", \"referenceId\":\"mw0i55zb_FxlUO\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.11704813168788308\"}, {\"$numberDouble\":\"0.9479356735199101\"}], \"type\":\"Point\"}}}, {\"id\":\"z6hIMz6kE0KNWJ\", \"name\":\"OE1wCY4\", \"cpf\":\"jAqgAMiswdXUmI\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2226628800000\"}}, \"gender\":\"Z7s7f0nmcNGRM\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2141492400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"890629200000\"}}, \"active\":false, \"location\":{\"id\":\"\", \"name\":\"0gXT3jSDLs\", \"referenceId\":\"zXXQRMtmdJ32judb\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.032445373535632704\"}, {\"$numberDouble\":\"0.2583781380049277\"}], \"type\":\"Point\"}}}, {\"id\":\"o\", \"name\":\"IPO_FA\", \"cpf\":\"\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1897016400000\"}}, \"gender\":\"DnJ_yT\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1972580400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-763412400000\"}}, \"active\":false, \"location\":{\"id\":\"3VKW\", \"name\":\"OQd5Et_o\", \"referenceId\":\"YBtE\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.32742736760231506\"}, {\"$numberDouble\":\"0.18792793427344157\"}], \"type\":\"Point\"}}}, {\"id\":\"4Wfm4ioUost1w\", \"name\":\"0m5ipQG_57VKZ9z\", \"cpf\":\"reL4T1D0wu\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-371070000000\"}}, \"gender\":\"3hgOu\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1413864000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-1743361200000\"}}, \"active\":false, \"location\":{\"id\":\"ooPrcXqoh\", \"name\":\"ulEzo5azj1\", \"referenceId\":\"dAyXq\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5515581179193536\"}, {\"$numberDouble\":\"0.6549390193028796\"}], \"type\":\"Point\"}}}, {\"id\":\"bsX7c0\", \"name\":\"aKZ\", \"cpf\":\"_EM_5795_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"4114814400000\"}}, \"gender\":\"_EM_5796_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-303768000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2215054800000\"}}, \"active\":true, \"location\":{\"id\":\"CMnt6G\", \"name\":\"uQCNiUXAQIJ4eHd\", \"referenceId\":\"zJaBV35W_lG9\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.30093173452082844\"}, {\"$numberDouble\":\"0.3659573637167889\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"680\"}, \"machineIdentifier\":{\"$numberInt\":\"107\"}, \"processIdentifier\":{\"$numberInt\":\"-30914\"}, \"counter\":{\"$numberInt\":\"438\"}}, \"name\":\"\", \"description\":\"oEm\", \"quantity\":{\"$numberInt\":\"162\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"137\"}, \"machineIdentifier\":{\"$numberInt\":\"460\"}, \"processIdentifier\":{\"$numberInt\":\"353\"}, \"counter\":{\"$numberInt\":\"636\"}}, \"name\":\"6ai\", \"description\":\"OGgZqADEqPQ\", \"quantity\":{\"$numberInt\":\"819\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"938\"}, \"machineIdentifier\":{\"$numberInt\":\"527\"}, \"processIdentifier\":{\"$numberInt\":\"560\"}, \"counter\":{\"$numberInt\":\"1866253875\"}}, \"name\":\"DeV5pSTyvI1jjG\", \"description\":\"soHhef\", \"quantity\":{\"$numberInt\":\"131502\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"3bb12a7e3305957aadd53a8f\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"2CnMxU[Uqsu\", \"name\":\"O\", \"address\":\"_EM_9881_XYZ_\", \"beds\":{\"$numberInt\":\"0\"}, \"availableBeds\":{\"$numberInt\":\"0\"}, \"location\":{\"id\":\"PdFgv\", \"name\":\"_EM_6588_XYZ_\", \"referenceId\":\"28KBOKG_KFkeC\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"200965.4911567784\"}, {\"$numberDouble\":\"0.4859171350833805\"}], \"type\":\"Point\"}}, \"patients\":[], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"-260833788\"}, \"machineIdentifier\":{\"$numberInt\":\"46\"}, \"processIdentifier\":{\"$numberInt\":\"122\"}, \"counter\":{\"$numberInt\":\"858\"}}, \"name\":\"jUGK3i\", \"description\":\"QhU7\", \"quantity\":{\"$numberInt\":\"680\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"252\"}, \"machineIdentifier\":{\"$numberInt\":\"421\"}, \"processIdentifier\":{\"$numberInt\":\"511\"}, \"counter\":{\"$numberInt\":\"576\"}}, \"name\":\"K5ZwK\", \"description\":\"naG\", \"quantity\":{\"$numberInt\":\"408\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"33\"}, \"machineIdentifier\":{\"$numberInt\":\"-64\"}, \"processIdentifier\":{\"$numberInt\":\"2\"}, \"counter\":{\"$numberInt\":\"1000\"}}, \"name\":\"Dxn4WdW\", \"description\":\"_EM_2701_XYZ_\", \"quantity\":{\"$numberInt\":\"5086\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"507\"}, \"machineIdentifier\":{\"$numberInt\":\"840\"}, \"processIdentifier\":{\"$numberInt\":\"10\"}, \"counter\":{\"$numberInt\":\"800\"}}, \"name\":\"cU60PpQGKEe4\", \"description\":\"ZSh8M\", \"quantity\":{\"$numberInt\":\"824\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"d7ebe9e7f14d5a241b500411\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"_kBVfn0\", \"name\":\"_5jqKIO2G0AG\", \"address\":\"_EM_5798_XYZ_\", \"beds\":{\"$numberInt\":\"2096472\"}, \"availableBeds\":{\"$numberInt\":\"524670\"}, \"location\":{\"id\":\"{U9EsrU2i2\", \"name\":\"aQzqYpk2gJCoaSRZ\", \"referenceId\":\"7t2J\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"1.3523398736816108\"}, {\"$numberDouble\":\"1.702510114261278\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"41>]n\", \"name\":\"r\\\\N2\", \"cpf\":\"_EM_2702_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"4032907200000\"}}, \"gender\":\"hYLtCtRoR:FDanj1\", \"entryDate\":{\"$date\":{\"$numberLong\":\"1396843200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-579038400000\"}}, \"active\":true, \"location\":{\"id\":\"_EM_2703_XYZ_\", \"name\":\"VLKzS3MiNBqbi\", \"referenceId\":\"eDpgEsMELlX\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5982238001310201\"}, {\"$numberDouble\":\"0.5322926164703307\"}], \"type\":\"Point\"}}}, {\"id\":\"XEVUVC\", \"name\":\"_EM_9882_XYZ_\", \"cpf\":\"_EM_5799_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1976241600000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2516155200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-1336075200000\"}}, \"active\":false, \"location\":{\"id\":\"Pp84ooMjutj\", \"name\":\"_EM_9883_XYZ_\", \"referenceId\":\"_EM_5800_XYZ_\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-2.876072991205513\"}, {\"$numberDouble\":\"-2989.653228042493\"}], \"type\":\"Point\"}}}, {\"id\":\"CGApl9ItN9JX\", \"name\":\"WYU46ViYaVDb\", \"cpf\":\"kM_LCpYMe\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2297390400000\"}}, \"gender\":\"yQm4\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2504750400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-219351600000\"}}, \"active\":true, \"location\":{\"id\":\"iLBlVq7ucWfFx\", \"name\":\"AbKYrTqvH3En\", \"referenceId\":\"2Vpo\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.2121858311611725\"}, {\"$numberDouble\":\"0.24138135013898054\"}], \"type\":\"Point\"}}}, {\"id\":\"_E4iEe\", \"name\":\"3JxFgt2Y\", \"cpf\":\"TA\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1917025200000\"}}, \"gender\":\"75Aq2RJcz_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2951179200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2059272000000\"}}, \"active\":false, \"location\":{\"id\":\"pi\", \"name\":\"5moPt2Ch9TUf8\", \"referenceId\":\"6FqQaujwp\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7087756297228761\"}, {\"$numberDouble\":\"0.6050565637622861\"}], \"type\":\"Point\"}}}, {\"id\":\"tPgFwa_sRyJcFo4p\", \"name\":\"3jMKa4j|yZ\", \"cpf\":\"NGtbLG_usyu8b\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3658539600000\"}}, \"gender\":\"8UJ1K\", \"entryDate\":{\"$date\":{\"$numberLong\":\"528609600000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"156747600000\"}}, \"active\":false, \"location\":{\"id\":\"7cvNl_1E\", \"name\":\"_EM_5801_XYZ_\", \"referenceId\":\"7i\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5425315561010615\"}, {\"$numberDouble\":\"-2.0319996084989436\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"0\"}, \"machineIdentifier\":{\"$numberInt\":\"902\"}, \"processIdentifier\":{\"$numberInt\":\"683\"}, \"counter\":{\"$numberInt\":\"-7554\"}}, \"name\":\"n_j3264gt9\", \"description\":\"BpHJMNj\", \"quantity\":{\"$numberInt\":\"840\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"909\"}, \"machineIdentifier\":{\"$numberInt\":\"489\"}, \"processIdentifier\":{\"$numberInt\":\"195\"}, \"counter\":{\"$numberInt\":\"864\"}}, \"name\":\"8w9z\", \"description\":\"i\", \"quantity\":{\"$numberInt\":\"317\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"786\"}, \"machineIdentifier\":{\"$numberInt\":\"524978\"}, \"processIdentifier\":{\"$numberInt\":\"854\"}, \"counter\":{\"$numberInt\":\"17223\"}}, \"name\":\"5_s\", \"description\":\"IG9\", \"quantity\":{\"$numberInt\":\"589\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"-262094\"}, \"machineIdentifier\":{\"$numberInt\":\"824\"}, \"processIdentifier\":{\"$numberInt\":\"112\"}, \"counter\":{\"$numberInt\":\"-2096388\"}}, \"name\":\"oukC8V8Id\", \"description\":\"PtOO\", \"quantity\":{\"$numberInt\":\"884\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"655\"}, \"machineIdentifier\":{\"$numberInt\":\"809\"}, \"processIdentifier\":{\"$numberInt\":\"809\"}, \"counter\":{\"$numberInt\":\"513\"}}, \"name\":\"DuFyBDV\", \"description\":\"R_XXGHEw\", \"quantity\":{\"$numberInt\":\"359\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"870210cad15fd206d0389c86\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"_EM_2886_XYZ_\", \"name\":\"\", \"address\":\"_f3jTik2HVVnqTtZ\", \"beds\":{\"$numberInt\":\"772\"}, \"availableBeds\":{\"$numberInt\":\"-67108814\"}, \"location\":{\"id\":\"cq8wuFUjb\", \"name\":\"BlL4Y0JE652x8WB\", \"referenceId\":\"3PU3P\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-6701330.306949497\"}, {\"$numberDouble\":\"0.27\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"5\", \"name\":\"Ct3C\", \"cpf\":\"qk5tuSpobi\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3373160400000\"}}, \"gender\":\"PruT\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1614193200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2894068800000\"}}, \"active\":true, \"location\":{\"id\":\"6ph5TkvYXIsSF\", \"name\":\"m_zX25xmnxQqH1\", \"referenceId\":\"0f\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.08857929075247895\"}, {\"$numberDouble\":\"0.5889853717703722\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"202\"}, \"machineIdentifier\":{\"$numberInt\":\"303\"}, \"processIdentifier\":{\"$numberInt\":\"858\"}, \"counter\":{\"$numberInt\":\"751\"}}, \"name\":\"OpenxR\", \"description\":\"_EM_2887_XYZ_\", \"quantity\":{\"$numberInt\":\"915\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"827\"}, \"machineIdentifier\":{\"$numberInt\":\"-33553640\"}, \"processIdentifier\":{\"$numberInt\":\"958\"}, \"counter\":{\"$numberInt\":\"-4193601\"}}, \"name\":\"Nn0uBMcU0GDrBh\", \"description\":\"5DHo7JLEcR\", \"quantity\":{\"$numberInt\":\"484\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"544\"}, \"machineIdentifier\":{\"$numberInt\":\"377\"}, \"processIdentifier\":{\"$numberInt\":\"716\"}, \"counter\":{\"$numberInt\":\"154\"}}, \"name\":\"EdVrSsJ2_\", \"description\":\"Dsl\", \"quantity\":{\"$numberInt\":\"694\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"853\"}, \"machineIdentifier\":{\"$numberInt\":\"536\"}, \"processIdentifier\":{\"$numberInt\":\"428\"}, \"counter\":{\"$numberInt\":\"677\"}}, \"name\":\"_EM_2888_XYZ_\", \"description\":\"QyAiJwLbKVLRYFz2\", \"quantity\":{\"$numberInt\":\"247\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"1049055\"}, \"machineIdentifier\":{\"$numberInt\":\"1678\"}, \"processIdentifier\":{\"$numberInt\":\"523\"}, \"counter\":{\"$numberInt\":\"1359\"}}, \"name\":\"n\", \"description\":\"ZT\", \"quantity\":{\"$numberInt\":\"601\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"4ffe0e34bab4fedd6e7cea6a\"}}")
            .and().insertInto("HospitalDB", "location_collection")
                .d("{\"id\":\"eV6j\", \"name\":\"L58MyCX2Q6tC}0e\", \"referenceId\":\"FUf9Kr4ayI\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.0\"}, {\"$numberDouble\":\"0.057032314806703455\"}], \"type\":\"Point\"}, \"_id\":{\"$oid\":\"9a8eae1cb0355e8e7e8cc59e\"}}")
            .and().insertInto("HospitalDB", "patient_collection")
                .d("{\"id\":\"forQcCyI\", \"name\":\"d5HIkmQHi_m3Tsw\", \"cpf\":\"mbWY_d56WOwjB\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1720411200000\"}}, \"gender\":\"jMrU_M\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2689732800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1764824400000\"}}, \"active\":false, \"location\":{\"id\":\"pTOTW3q4w\", \"name\":\"GHvl5ogq6\", \"referenceId\":\"OVLS7Rs8m\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.35773133447594385\"}, {\"$numberDouble\":\"0.47438193248160765\"}], \"type\":\"Point\"}}, \"_id\":{\"$oid\":\"aaceeb8cceb8255ab87d7c29\"}}")
            .dtos();
        MongoInsertionResultsDto insertionsresult = controller.execInsertionsIntoMongoDatabase(insertions);
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"active\": false, " + 
                    " \"birthDate\": \"1904-03-24T02:29:02.026Z\", " + 
                    " \"cpf\": \"549EUm\", " + 
                    " \"entryDate\": \"2038-10-19T12:30:45.201Z\", " + 
                    " \"exitDate\": \"1942-02-30T23:06:50.664-06:38\", " + 
                    " \"gender\": \"UuPZDTtqzZZmg\", " + 
                    " \"location\": { " + 
                    " \"id\": \"ZrWVn\", " + 
                    " \"location\": { " + 
                    " \"coordinates\": [ " + 
                    " 0.391, " + 
                    " 0.9615918049220652, " + 
                    " -62394.111206554684, " + 
                    " 2.8670670246663557, " + 
                    " 0.836 " + 
                    " ], " + 
                    " \"x\": 0.2123297, " + 
                    " \"y\": -18816.650085950845 " + 
                    " }, " + 
                    " \"locationCategory\": \"HOSPITAL\", " + 
                    " \"name\": \"_EM_5802_XYZ_\", " + 
                    " \"position\": { " + 
                    " \"coordinates\": [ " + 
                    " 0.17960626013886805, " + 
                    " 0.46214079212573067 " + 
                    " ], " + 
                    " \"type\": \"_EM_1120_XYZ_\", " + 
                    " \"x\": 0.9570421061820525, " + 
                    " \"y\": 0.6117092928015758 " + 
                    " }, " + 
                    " \"referenceId\": \"Tt4OmTJeylu_xR\" " + 
                    " }, " + 
                    " \"name\": \"q7\" " + 
                    " } ")
                .post(baseUrlOfSut + "/v1/hospitais/870210cad15fd206d0389c86/pacientes/checkin?raio=KpPRJ")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/proximidades'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/UKZA3wtOVA/proximidades")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault100. HTTP Status 500. br/com/codenation/hospital/services/LocationService_109_findHospitalNearLocationBy.
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 500 not defined for path '/v1/hospitais/maisProximo'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/maisProximo?" + 
                    "lat=0.963&" + 
                    "lon=0.10286865555041202&" + 
                    "raioMaximo=-1.6427062041222718&" + 
                    "raio=Gzz3GH")
                .then()
                .statusCode(500)// br/com/codenation/hospital/services/LocationService_109_findHospitalNearLocationBy
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(500.0))
                .body("'error'", containsString("Internal Server Error"))
                .body("'path'", containsString("/v1/hospitais/maisProximo"));
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/qI2PuJb9qqp/pacientes")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"active\": false, " + 
                    " \"birthDate\": \"1919-05-02T25:08:40Z\", " + 
                    " \"entryDate\": \"2015-11-11T07:22:30.389Z\", " + 
                    " \"gender\": \"8S3DBbnkhCuG11I\" " + 
                    " } ")
                .put(baseUrlOfSut + "/v1/hospitais/NMhhkyZtk69K2c/pacientes/DJ9r")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/estoque'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"description\": \"_EM_1129_XYZ_\", " + 
                    " \"productName\": \"kb\", " + 
                    " \"productType\": \"EVOMASTER\" " + 
                    " } ")
                .post(baseUrlOfSut + "/v1/hospitais/zIvC1RA6_wxCInC/estoque")
                .then()
                .statusCode(400)
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(400.0))
                .body("'error'", containsString("Bad Request"))
                .body("'message'", containsString("JSON parse error: Cannot deserialize value of type `br.com.codenation.hospital.domain.ProductType` from String \"EVOMASTER\": value not one of declared Enum instance names: [BLOOD, COMMON]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `br.com.codenation.hospital.domain.ProductType` from String \"EVOMASTER\": value not one of declared Enum instance names: [BLOOD, COMMON]\n at [Source: (ByteArrayInputStream); line: 1, column: 67] (through reference chain: br.com.codenation.hospital.dto.ProductDTO[\"productType\"])"))
                .body("'path'", containsString("/v1/hospitais/zIvC1RA6_wxCInC/estoque"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{id}/transferencia/{productId}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" -2099045 ")
                .post(baseUrlOfSut + "/v1/hospitais/M0OQYB%7F9JAwd5GY/transferencia/_EM_2704_XYZ_")
                .then()
                .statusCode(400)
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(400.0))
                .body("'error'", containsString("Bad Request"))
                .body("'message'", containsString("Hospital não encontrado! ID:M0OQYB9JAwd5GY"))
                .body("'path'", containsString("/v1/hospitais/M0OQYB%7F9JAwd5GY/transferencia/_EM_2704_XYZ_"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/hospitaisProximos'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/4ffe0e34bab4fedd6e7cea6a/hospitaisProximos?raio=0.923560435635589")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/hospitaisProximos'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/RUDffvAymrUVUQM7/hospitaisProximos?raio=-0.304323027897767")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
    }
}

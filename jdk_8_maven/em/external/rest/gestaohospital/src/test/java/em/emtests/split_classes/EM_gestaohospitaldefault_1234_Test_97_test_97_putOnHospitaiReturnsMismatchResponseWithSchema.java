package em.emtests.split_classes;
/**
* LICENSE DISCLAIMER
* This file has been generated by EvoMaster.
* The content of this file is not subject to the license of EvoMaster itself, i.e., LGPL.
* This generated software (i.e., the test suite in this file) can be freely used, modified, 
* and distributed as you see fit without any restrictions.
*/
import  org.junit.jupiter.api.AfterAll;
import  org.junit.jupiter.api.BeforeAll;
import  org.junit.jupiter.api.BeforeEach;
import  org.junit.jupiter.api.Test;
import  org.junit.jupiter.api.Timeout;
import static org.junit.jupiter.api.Assertions.*;
import  java.util.Map;
import  java.util.Arrays;
import  java.util.List;
import static org.evomaster.test.utils.EMTestUtils.*;
import  org.evomaster.client.java.controller.SutHandler;
import  io.restassured.RestAssured;
import static io.restassured.RestAssured.given;
import  io.restassured.response.ValidatableResponse;
import static org.evomaster.client.java.controller.mongo.dsl.MongoDsl.mongo;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionResultsDto;
import  org.evomaster.client.java.controller.api.dto.database.operations.MongoInsertionDto;
import static org.hamcrest.Matchers.*;
import  io.restassured.config.JsonConfig;
import  io.restassured.path.json.config.JsonPathConfig;
import static io.restassured.config.RedirectConfig.redirectConfig;
import static org.evomaster.client.java.controller.contentMatchers.NumberMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.StringMatcher.*;
import static org.evomaster.client.java.controller.contentMatchers.SubStringMatcher.*;




/**
*  This file was automatically generated by EvoMaster on 2025-09-03T21:43:27.165-04:00[America/New_York]
 * <br>
*  The generated test suite contains 408 tests
 * <br>
*  Covered targets: 2217
 * <br>
*  Used time: 1h 5m 2s
 * <br>
*  Needed budget for current results: 99%
 * <br>
*  
*/

public class EM_gestaohospitaldefault_1234_Test_97_test_97_putOnHospitaiReturnsMismatchResponseWithSchema {
    

    
    private static final SutHandler controller = new em.external.br.com.codenation.hospital.ExternalEvoMasterController("/home/rhuang329/coaster/EMB/exp2/gestaohospital-sut.jar");
    private static String baseUrlOfSut;

    @BeforeAll
    public static void initClass() {
        controller.setupForGeneratedTest();
        baseUrlOfSut = controller.startSut();
        controller.registerOrExecuteInitSqlCommandsIfNeeded();
        assertNotNull(baseUrlOfSut);
        RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
        RestAssured.useRelaxedHTTPSValidation();
        RestAssured.urlEncodingEnabled = false;
        RestAssured.config = RestAssured.config()
            .jsonConfig(JsonConfig.jsonConfig().numberReturnType(JsonPathConfig.NumberReturnType.DOUBLE))
            .redirect(redirectConfig().followRedirects(false));
    }

    @AfterAll
    public static void tearDown() {
        controller.stopSut();
    }

    @BeforeEach
    public void initTest() {
        controller.resetStateOfSUT();
    }

    /**
    * Calls:
    * 1 - (200) GET:/v1/hospitais/
    * 2 - (404) POST:/v1/hospitais/{hospital_id}/pacientes/checkout
    * 3 - (400) GET:/v1/hospitais/{hospital_id}/hospitaisProximos
    * 4 - (400) POST:/v1/hospitais/{id}/transferencia/{productId}
    * 5 - (400) GET:/v1/hospitais/{hospital_id}/estoque
    * 6 - (400) GET:/v1/hospitais/{hospital_id}/proximidades
    * 7 - (400) PUT:/v1/hospitais/{hospital_id}
    * Found 5 potential faults of type-code 101
    */
    @Test @Timeout(60)
    public void test_97_putOnHospitaiReturnsMismatchResponseWithSchema() throws Exception {
        List<MongoInsertionDto> insertions = mongo().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"yNRzarXm3\", \"name\":\"4gDxp[h9\", \"address\":\"9)\", \"beds\":{\"$numberInt\":\"2097505\"}, \"availableBeds\":{\"$numberInt\":\"152\"}, \"location\":{\"id\":\"e43IyvNgwM\", \"name\":\"N\", \"referenceId\":\"_EM_3949_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-0.4536559744435428\"}, {\"$numberDouble\":\"631733.3549758241\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"_EM_8989_XYZ_\", \"name\":\"QUURU\", \"cpf\":\"_EM_3954_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"961128000000\"}}, \"gender\":\"_EM_8994_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"955598400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3437269200000\"}}, \"active\":false, \"location\":{\"id\":\"YrE3CVfOK\", \"name\":\"yBnSo7bmO5Hzx2L\", \"referenceId\":\"_WBM0\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.44\"}, {\"$numberDouble\":\"-1010250.6101516724\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"720\"}, \"machineIdentifier\":{\"$numberInt\":\"758\"}, \"processIdentifier\":{\"$numberInt\":\"196\"}, \"counter\":{\"$numberInt\":\"47\"}}, \"name\":\"2dsA7h\", \"description\":\"U4H4Z4WJXcn1niG\", \"quantity\":{\"$numberInt\":\"648\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"845\"}, \"machineIdentifier\":{\"$numberInt\":\"368\"}, \"processIdentifier\":{\"$numberInt\":\"24\"}, \"counter\":{\"$numberInt\":\"799\"}}, \"name\":\"rd8FHnO\", \"description\":\"_EM_8995_XYZ_\", \"quantity\":{\"$numberInt\":\"922\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"872\"}, \"machineIdentifier\":{\"$numberInt\":\"367\"}, \"processIdentifier\":{\"$numberInt\":\"339\"}, \"counter\":{\"$numberInt\":\"739\"}}, \"name\":\"UI9kSEU59L6\", \"description\":\"MDT\", \"quantity\":{\"$numberInt\":\"1049408\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"729\"}, \"machineIdentifier\":{\"$numberInt\":\"284\"}, \"processIdentifier\":{\"$numberInt\":\"0\"}, \"counter\":{\"$numberInt\":\"733\"}}, \"name\":\"mG\", \"description\":\"MPUyUIU3DUN1\", \"quantity\":{\"$numberInt\":\"425\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"ede3b1c57e7fa85adff5f433\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"mcl\", \"name\":\"\", \"address\":\"M\", \"beds\":{\"$numberInt\":\"16896\"}, \"availableBeds\":{\"$numberInt\":\"107\"}, \"location\":{\"id\":\"_EM_4186_XYZ_\", \"name\":\"_EM_4195_XYZ_\", \"referenceId\":\"yk0\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.0\"}, {\"$numberDouble\":\"381708.3157915177\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"MBVYuSKH7yhS35A\", \"name\":\"tQO2v2mjKz\", \"cpf\":\"4pkLtgDb_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-2202836400000\"}}, \"gender\":\"_EM_3952_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"181108800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1181880000000\"}}, \"active\":true, \"location\":{\"id\":\"BgVlteEXEw\", \"name\":\"vSXbfEZuMo30HYZ\", \"referenceId\":\"9GOSX6RAdpiw\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8441069367996541\"}, {\"$numberDouble\":\"0.40990692253572913\"}], \"type\":\"Point\"}}}, {\"id\":\"qXrzkXe4SXjM\", \"name\":\"h4JALYpcD9\", \"cpf\":\"qDmOa2_Zi\", \"birthDate\":{\"$date\":{\"$numberLong\":\"771912000000\"}}, \"gender\":\"9n13bpwdO678\", \"entryDate\":{\"$date\":{\"$numberLong\":\"486360000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-2044810800000\"}}, \"active\":true, \"location\":{\"id\":\"vETh\", \"name\":\"1sn5RmpI9cX\", \"referenceId\":\"xOUVVVzr\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.20556790454466833\"}, {\"$numberDouble\":\"7.122731537080311\"}], \"type\":\"Point\"}}}, {\"id\":\"_EM_4297_XYZ_\", \"name\":\"MocaOiVE9bbkcpW\", \"cpf\":\"dE4<P7\", \"birthDate\":{\"$date\":{\"$numberLong\":\"290840400000\"}}, \"gender\":\"adu\", \"entryDate\":{\"$date\":{\"$numberLong\":\"495345600000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"152600400000\"}}, \"active\":true, \"location\":{\"id\":\"PApuhzk32\", \"name\":\"rUmrr\", \"referenceId\":\"_EM_4187_XYZ_\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.406113794994303\"}, {\"$numberDouble\":\"0.0406925\"}], \"type\":\"Point\"}}}, {\"id\":\"T11UUYDKn1s\", \"name\":\"KJnWaR1JiQ\", \"cpf\":\"UCLk5cyVqkLyQvpI\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3154309200000\"}}, \"gender\":\"\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3488760000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"847861200000\"}}, \"active\":false, \"location\":{\"id\":\"9j;Gb8wpfW\", \"name\":\"I2Jt3BSWOtzAV\", \"referenceId\":\"S3VqZyNVDBKV\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"1.6035619105001213\"}, {\"$numberDouble\":\"2189.714994452944\"}], \"type\":\"Point\"}}}, {\"id\":\"_EM_4298_XYZ_\", \"name\":\"gEKtbzajyGU\", \"cpf\":\"nBjULcbY65awhJ\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-1489604400000\"}}, \"gender\":\"_j1pN\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2181754800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"909723600000\"}}, \"active\":true, \"location\":{\"id\":\"SfnW4\", \"name\":\"cF_u4guBNnu395F\", \"referenceId\":\"g\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.49134833147725554\"}, {\"$numberDouble\":\"0.703\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"-101403088\"}, \"machineIdentifier\":{\"$numberInt\":\"27\"}, \"processIdentifier\":{\"$numberInt\":\"991\"}, \"counter\":{\"$numberInt\":\"196\"}}, \"name\":\"UEbUUUUg\", \"description\":\"HWfhkKulUnoUDUUm\", \"quantity\":{\"$numberInt\":\"-1722354069\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"52f6c9aef9dd8ead96bca53f\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"8JeD5oAr5n5p\", \"name\":\"_EM_8983_XYZ_\", \"address\":\"jgG1YeJ9pbB\", \"beds\":{\"$numberInt\":\"4194462\"}, \"availableBeds\":{\"$numberInt\":\"-524319\"}, \"location\":{\"id\":\"ZONUIOYo\", \"name\":\"PSloxW\", \"referenceId\":\"f7sA17UXUJ\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.772551900082456\"}, {\"$numberDouble\":\"0.0\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"O\", \"name\":\"FjxQe0wJ\", \"cpf\":\"_EM_4015_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2700014400000\"}}, \"gender\":\"_EM_8984_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2441160000000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"-330379200000\"}}, \"active\":false, \"location\":{\"id\":\"NUa0FcG8XnXZ9\", \"name\":\"_WR13CYeX64r\", \"referenceId\":\"4YxqVb\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8147276558202144\"}, {\"$numberDouble\":\"0.9333660445007675\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"19\"}, \"machineIdentifier\":{\"$numberInt\":\"163\"}, \"processIdentifier\":{\"$numberInt\":\"18544\"}, \"counter\":{\"$numberInt\":\"819\"}}, \"name\":\"ZHy0J6JuP\", \"description\":\"_xyZtl1dpKUmy\", \"quantity\":{\"$numberInt\":\"536\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"325\"}, \"machineIdentifier\":{\"$numberInt\":\"-8131\"}, \"processIdentifier\":{\"$numberInt\":\"1141\"}, \"counter\":{\"$numberInt\":\"753\"}}, \"name\":\"ukeU1ksfvvo\", \"description\":\"_EM_4016_XYZ_\", \"quantity\":{\"$numberInt\":\"490\"}, \"productType\":\"COMMON\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"786\"}, \"machineIdentifier\":{\"$numberInt\":\"68\"}, \"processIdentifier\":{\"$numberInt\":\"17184\"}, \"counter\":{\"$numberInt\":\"8389311\"}}, \"name\":\"pgpcxBKKC5\u0085\", \"description\":\"w_NOZ1YHCs_G\", \"quantity\":{\"$numberInt\":\"304\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"8d4ca97daa1e82b7bac36de5\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"8auGvFLvMyVFWpD\", \"name\":\"W2\", \"address\":\"_EM_8948_XYZ_\", \"beds\":{\"$numberInt\":\"-4193674\"}, \"availableBeds\":{\"$numberInt\":\"131629\"}, \"location\":{\"id\":\"nup?c5Ut67\", \"name\":\"_EM_3953_XYZ_\", \"referenceId\":\"O8pglqQwQcpWVNxN\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5185503\"}, {\"$numberDouble\":\"0.16617336701965912\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"_EM_8985_XYZ_\", \"name\":\"QfDLksdA4\", \"cpf\":\"J\", \"birthDate\":{\"$date\":{\"$numberLong\":\"1521172800000\"}}, \"gender\":\"HcuG0cMiDGRPcnPc\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2199898800000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"3938126400000\"}}, \"active\":true, \"location\":{\"id\":\"3_C9dt\", \"name\":\"_EM_3957_XYZ_\", \"referenceId\":\"dQe3GmVl21t\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.89\"}, {\"$numberDouble\":\"0.45041057260685\"}], \"type\":\"Point\"}}}, {\"id\":\"ibkpbzp8t7CHJL0K\", \"name\":\"pS1EtwULogOELu\", \"cpf\":\"1vfkbHmSd5wJTk\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-74116800000\"}}, \"gender\":\"Qtym\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2970277200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"310194000000\"}}, \"active\":false, \"location\":{\"id\":\"R6xOu\", \"name\":\"\", \"referenceId\":\"_EM_4019_XYZ_\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"3686770.3014632897\"}, {\"$numberDouble\":\"0.16725039110886264\"}], \"type\":\"Point\"}}}, {\"id\":\"sbB7IEFJ4sT\", \"name\":\"nvJELNOZ\", \"cpf\":\"zaR4HuOtR3KUpI\", \"birthDate\":{\"$date\":{\"$numberLong\":\"3121304400000\"}}, \"gender\":\"RjWCzi\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-53636400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2328667200000\"}}, \"active\":true, \"location\":{\"id\":\"c\", \"name\":\"YaXosYGbk\", \"referenceId\":\"EaF\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5531540353291654\"}, {\"$numberDouble\":\"0.4751677940145257\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"16\"}, \"machineIdentifier\":{\"$numberInt\":\"2295\"}, \"processIdentifier\":{\"$numberInt\":\"4880\"}, \"counter\":{\"$numberInt\":\"954\"}}, \"name\":\"BFqsmWNopOr\", \"description\":\"4B\", \"quantity\":{\"$numberInt\":\"677\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"942\"}, \"machineIdentifier\":{\"$numberInt\":\"393970\"}, \"processIdentifier\":{\"$numberInt\":\"945\"}, \"counter\":{\"$numberInt\":\"2097688\"}}, \"name\":\"_EM_8996_XYZ_\", \"description\":\"zbGqMh\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"af6cebbcedde075ce69c97db\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"UUtUrj\", \"name\":\"UUUQ5jUF\", \"address\":\"_EM_8991_XYZ_\", \"beds\":{\"$numberInt\":\"-147460\"}, \"availableBeds\":{\"$numberInt\":\"64\"}, \"location\":{\"id\":\"_EM_8992_XYZ_\", \"name\":\"mNTCxUt6HmHO2Mgt\", \"referenceId\":\"LOMN_p0qhv\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8498199538301486\"}, {\"$numberDouble\":\"0.6494411120292191\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"2X4nVOo@aPsvim\", \"name\":\"wbkvitXvzU\", \"cpf\":\"sq\", \"birthDate\":{\"$date\":{\"$numberLong\":\"249541200000\"}}, \"gender\":\"QdhFXQn8Xq4HtSo\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2639534400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2087614800000\"}}, \"active\":true, \"location\":{\"id\":\"_EM_4020_XYZ_\", \"name\":\"dtQdigX7A\", \"referenceId\":\"C_fu3Vl0\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.08116085787975169\"}, {\"$numberDouble\":\"0.48266222015608506\"}], \"type\":\"Point\"}}}, {\"id\":\"_EM_4097_XYZ_\", \"name\":\"_EM_8947_XYZ_\", \"cpf\":\"_EM_4098_XYZ_\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-761857200000\"}}, \"gender\":\"_EM_4191_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"3895963200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1209873600000\"}}, \"active\":true, \"location\":{\"id\":\"_EM_U021UXYUU\", \"name\":\"F\", \"referenceId\":\"4URNlUUUpm\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5726907307843556\"}, {\"$numberDouble\":\"-6.0\"}], \"type\":\"Point\"}}}, {\"id\":\"hadI8mMRguYrWEoO\", \"name\":\"dVUj5QjuhFC2\", \"cpf\":\"7RHVUvgGB351FK\", \"birthDate\":{\"$date\":{\"$numberLong\":\"971496000000\"}}, \"gender\":\"9n13bpwdO678\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-2107796400000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"959313600000\"}}, \"active\":false, \"location\":{\"id\":\"rf9mp1YY\", \"name\":\"_EM_4022_XYZ_\", \"referenceId\":\"E\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.5036164037556695\"}, {\"$numberDouble\":\"0.7917167271408743\"}], \"type\":\"Point\"}}}, {\"id\":\"wovM1iESchYoTslL\", \"name\":\"lGz2k9MkGmro3\", \"cpf\":\"qauhNs1Ekjw3Nq\", \"birthDate\":{\"$date\":{\"$numberLong\":\"2245640400000\"}}, \"gender\":\"yNRzarXm3\", \"entryDate\":{\"$date\":{\"$numberLong\":\"2000347200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1269230400000\"}}, \"active\":true, \"location\":{\"id\":\"Z\", \"name\":\"_EM_4192_XYZ_\", \"referenceId\":\"XaZ\", \"locationCategory\":\"HOSPITAL\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.36953849016519613\"}, {\"$numberDouble\":\"0.68\"}], \"type\":\"Point\"}}}, {\"id\":\"S1osgN4\", \"name\":\"5xWi\", \"cpf\":\"Y2MX_mWMXUjPCu5\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-169675200000\"}}, \"gender\":\"7c7Yv\", \"entryDate\":{\"$date\":{\"$numberLong\":\"773467200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"1816142400000\"}}, \"active\":true, \"location\":{\"id\":\"4rcdB4XI6v510pu\", \"name\":\"_EM_4023_XYZ_\", \"referenceId\":\"ISb\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.8823380946288126\"}, {\"$numberDouble\":\"0.601620678727529\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"500\"}, \"machineIdentifier\":{\"$numberInt\":\"-1048169\"}, \"processIdentifier\":{\"$numberInt\":\"0\"}, \"counter\":{\"$numberInt\":\"0\"}}, \"name\":\"_EM_4099_XYZ_\", \"description\":\"q9W\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"BLOOD\"}], \"_id\":{\"$oid\":\"8de9a88f29580d09492f4c2b\"}}")
            .and().insertInto("HospitalDB", "hospital_collection")
                .d("{\"id\":\"o4Q2QVBl2t4RVjZ\", \"name\":\"Hn62tNqFtsja__V\", \"address\":\"_EM_4302_XYZ_\", \"beds\":{\"$numberInt\":\"864\"}, \"availableBeds\":{\"$numberInt\":\"397\"}, \"location\":{\"id\":\"4G87_R\", \"name\":\"5N8ciYy5\", \"referenceId\":\"WRS8Sus4ST\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"-2556701.842430112\"}, {\"$numberDouble\":\"79140.32306157306\"}], \"type\":\"Point\"}}, \"patients\":[{\"id\":\"\", \"name\":\"uJVNy4qXKa3\", \"cpf\":\"IN\", \"birthDate\":{\"$date\":{\"$numberLong\":\"-428961600000\"}}, \"gender\":\"_EM_8986_XYZ_\", \"entryDate\":{\"$date\":{\"$numberLong\":\"620971200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2222049600000\"}}, \"active\":true, \"location\":{\"id\":\"0Ft7CC3ji\", \"name\":\"z_vkmJPVZ\", \"referenceId\":\"_EM_8987_XYZ_\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"0.7755817278100675\"}, {\"$numberDouble\":\"0.0227994640800276\"}], \"type\":\"Point\"}}}, {\"id\":\"tlPhTpf\", \"name\":\"bUChqBw2i61S_jdS\", \"cpf\":\"6gQeo_I8lFnf\", \"birthDate\":{\"$date\":{\"$numberLong\":\"572763600000\"}}, \"gender\":\"R7jJrk4ZRoHgAIGW\", \"entryDate\":{\"$date\":{\"$numberLong\":\"-1782241200000\"}}, \"exitDate\":{\"$date\":{\"$numberLong\":\"2271128400000\"}}, \"active\":true, \"location\":{\"id\":\"z\", \"name\":\"_EM_8988_XYZ_\", \"referenceId\":\"7XJFj6B\", \"locationCategory\":\"PATIENT\", \"position\":{\"coordinates\":[{\"$numberDouble\":\"1.0409193043092846\"}, {\"$numberDouble\":\"0.2\"}], \"type\":\"Point\"}}}], \"products\":[{\"_id\":{\"timestamp\":{\"$numberInt\":\"-64724\"}, \"machineIdentifier\":{\"$numberInt\":\"340\"}, \"processIdentifier\":{\"$numberInt\":\"-14651\"}, \"counter\":{\"$numberInt\":\"946\"}}, \"name\":\"WJth\", \"description\":\"_qX2T8XQjX\", \"quantity\":{\"$numberInt\":\"0\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"-132331\"}, \"machineIdentifier\":{\"$numberInt\":\"8636\"}, \"processIdentifier\":{\"$numberInt\":\"192\"}, \"counter\":{\"$numberInt\":\"736\"}}, \"name\":\"2oNuc3Y3YvEo1\", \"description\":\"4\", \"quantity\":{\"$numberInt\":\"775\"}, \"productType\":\"BLOOD\"}, {\"_id\":{\"timestamp\":{\"$numberInt\":\"93\"}, \"machineIdentifier\":{\"$numberInt\":\"160\"}, \"processIdentifier\":{\"$numberInt\":\"-21649\"}, \"counter\":{\"$numberInt\":\"530\"}}, \"name\":\"tsSBIl\", \"description\":\"_EM_4231_XYZ_\", \"quantity\":{\"$numberInt\":\"-16776501\"}, \"productType\":\"COMMON\"}], \"_id\":{\"$oid\":\"ee3b977172d92781aca8a63b\"}}")
            .and().insertInto("HospitalDB", "product_collection")
                .d("{\"name\":\"_EM_8997_XYZ_\", \"description\":\"p\", \"quantity\":{\"$numberInt\":\"918\"}, \"productType\":\"BLOOD\", \"_id\":{\"$oid\":\"5fa9f263dd0e78a25d8c9b18\"}}")
            .dtos();
        MongoInsertionResultsDto insertionsresult = controller.execInsertionsIntoMongoDatabase(insertions);
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/")
                .then()
                .statusCode(200)
                .assertThat()
                .contentType("application/json")
                .body("size()", equalTo(6))
                .body("[0].'name'", containsString("4gDxp[h9"))
                .body("[0].'address'", containsString("9)"))
                .body("[0].'beds'", numberMatches(2097505.0))
                .body("[0].'availableBeds'", numberMatches(152.0))
                .body("[0].'longitude'", containsString("-0.4536559744435428"))
                .body("[0].'latitude'", containsString("631733.3549758241"))
                .body("[1].'name'", containsString(""))
                .body("[1].'address'", containsString("M"))
                .body("[1].'beds'", numberMatches(16896.0))
                .body("[1].'availableBeds'", numberMatches(107.0))
                .body("[1].'longitude'", containsString("0.0"))
                .body("[1].'latitude'", containsString("381708.3157915177"))
                .body("[2].'name'", containsString("_EM_8983_XYZ_"))
                .body("[2].'address'", containsString("jgG1YeJ9pbB"))
                .body("[2].'beds'", numberMatches(4194462.0))
                .body("[2].'availableBeds'", numberMatches(-524319.0))
                .body("[2].'longitude'", containsString("0.772551900082456"))
                .body("[2].'latitude'", containsString("0.0"))
                ; // Skipping assertions on the remaining 3 elements. This limit of 3 elements can be increased in the configurations
        
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" I_oUzOvKtsoUlA2 ")
                .post(baseUrlOfSut + "/v1/hospitais/9f6cebbcddde164bf69b96db/pacientes/checkout")
                .then()
                .statusCode(404)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/hospitaisProximos'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/_EM_8945_XYZ_/hospitaisProximos?raio=0.254282146493")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{id}/transferencia/{productId}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" -33545871 ")
                .post(baseUrlOfSut + "/v1/hospitais/_EM_4193_XYZ_/transferencia/tgfwJSr")
                .then()
                .statusCode(400)
                .assertThat()
                .contentType("application/json")
                .body("'status'", numberMatches(400.0))
                .body("'error'", containsString("Bad Request"))
                .body("'message'", containsString("Hospital não encontrado! ID:_EM_4193_XYZ_"))
                .body("'path'", containsString("/v1/hospitais/_EM_4193_XYZ_/transferencia/tgfwJSr"));
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/estoque'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/_EM_8993_XYZ_/estoque")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}/proximidades'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .get(baseUrlOfSut + "/v1/hospitais/_EM_4024_XYZ_/proximidades")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
        
        // Fault101. Received A Response From API With A Structure/Data That Is Not Matching Its Schema. Type: validation.response.status.unknown. Response status 400 not defined for path '/v1/hospitais/{hospital_id}'.
        given().accept("*/*")
                .header("x-EMextraHeader123", "")
                .contentType("application/json")
                .body(" { " + 
                    " \"address\": \"s96MWd98w8SER\", " + 
                    " \"availableBeds\": 31, " + 
                    " \"beds\": -15471, " + 
                    " \"id\": \"P_ANaO\", " + 
                    " \"latitude\": \"_EM_895WoXYZ_\", " + 
                    " \"longitude\": \"fDaIyVAml6eo3\" " + 
                    " } ")
                .put(baseUrlOfSut + "/v1/hospitais/_=E_8946_XU%5E")
                .then()
                .statusCode(400)
                .assertThat()
                .body(isEmptyOrNullString());
    }
}
